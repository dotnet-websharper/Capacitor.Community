import { Start as f1 } from "./WebSharper.Core.JavaScript/Runtime.js"
import { TextToSpeech as f2 } from "@capacitor-community/text-to-speech"
import { Lazy as f3, MarkResizable as f4, SetOptional as f5, Force as f6, GetOptional as f7, CreateFuncWithArgs as f8, DeleteEmptyFields as f9, Create as f_, OnLoad as f$ } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(ga){ return"Dispose"in ga;}
function b(){ const ga=f.Create_1("");const gb=bI.Convert((gl) => { const gm=new o("New_1");const gn=(gm.h.push(new ba("name", gl)),gm);const go=F(gn.k, gn.h, []);const gp=new j(go[1], C(go[0]));let gq=(gn.i=gp,gp);return gq.Doc;}, c().v);const gc=new o("New_1");const gd=(gc.h.push(new u0038("listcontainer", gb)),gc);const ge=(gd.h.push(new u0037("name", ga)),gd);const gf=(ge.h.push(E(ge.k, "add", () => ge.i, () => { c().Append(ga.Get());ga.Set("");})),ge);const gg=(gf.h.push(E(gf.k, "texttospeech", () => gf.i, () => { const gl=null;be(bd(() => bo(d().then(() => { const gm=(gn) => { console.log(gn);};return gm("Speak Started");}))), null);})),gf);const gh=F(gg.k, gg.h, [["name", 0, null]]);const gi=new j(gh[1], D(gh[0]));let gj=(gg.i=gi,gi);const gk=gj.Doc;bq("");bI.RunById("main", gk);}
function c(){ return $.People;}
function d(){ const ga=null;return new Promise((gb) => { let gc;gb(f2.speak((gc={},gc.text="This is a sample text.",gc.lang="en-US",gc.rate=1,gc.pitch=1,gc.volume=1,gc.category="ambient",gc)).then(() => Promise.resolve(null)));});}
let e=f3((ga) => class gb { static { e=ga(this);} Equals(gc){ return this===gc;} GetHashCode(){ return -1;} });
let f=f3((ga) => class gb extends e { static { f=ga(this);} static Create_1(gc){ return new I(false, {s:bM(gc, [])}, gc);} static { } });
function g(ga){ throw new Error(ga);}
function h(ga){ return[ga.K, ga.V];}
function i(ga, gb){ const gc=1+gb-ga;return gc<=0?[]:b6(gc, (gd) => gd+ga);}
let j=f3((ga) => class gb extends e { static { j=ga(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(gc){ this.anchorRoot=gc;} constructor(gc, gd){ super();this.doc=gd;this.allVars=gc.$==0?gc.$0:g("Should not happen");this.anchorRoot=null;} });
function k(ga, gb){ m(ga, gb);return ga[gb];}
function l(ga, gb, gc){ m(ga, gb);ga[gb]=gc;}
function m(ga, gb){ if(gb<0||gb>=ga.length)g("Index was outside the bounds of the array.");}
function n(ga){ return ga.dims===2?ga.length*ga.length:ga.length;}
let o=f3((ga) => class gb extends e { static { o=ga(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(gc){ if(gc=="New_1"){ let gd;super();this.i=null;this.k=(gd=u0039(),String(gd));this.h=f4([]);f5(this, "s", null);} } });
let p=f3((ga) => class gb extends e { static { p=ga(this);} key;u0076ar;storage;v;it;Append(gc){ const gd=this.u0076ar.Get();const ge=this.key(gc);const gf=cb((gg) => r(this.key(gg), ge), gd);if(gf!=null&&gf.$==1)this.u0076ar.Set(this.storage.SSetAt(gf.$0, gc, gd));else this.u0076ar.Set(this.storage.SAppend(gc, gd));this.ObsoleteKey(ge);} ObsoleteKey(gc){ let gd;const ge=(gd=null,[this.it.TryGetValue(gc, {get:() => gd, set:(gf) => { gd=gf;}}), gd]);if(ge[0]){ bR(ge[1]);this.it.RemoveKey(gc);} } GetEnumerator(){ return cW(this.u0076ar.Get());} GetEnumerator0(){ return cZ(this.u0076ar.Get());} static New(gc, gd){ return new this("New", gc, gd);} static New_3(gc, gd, ge){ return new this("New_3", gc, gd, ge);} constructor(gc, gd, ge, gf){ let gg;let gh;if(gc=="New"){ gg=gd;gh=ge;gc="New_3";gd=gg;ge=f.Create_1(cf(bZ(gg, gh.SInit())));gf=gh;} if(gc=="New_3"){ const gi=gd;const gj=ge;const gk=gf;super();this.key=gi;this.u0076ar=gj;this.storage=gk;this.v=cL((gl) => gl.slice(), this.u0076ar.View);this.it=new bP("New_5");} } });
let q=f3((ga) => class gb extends e { static { q=ga(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(gc, gd){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return eD("");} });
function r(ga, gb){ if(ga===gb)return true;else { const gc=typeof ga;if(gc=="object"){ if(ga===null||ga===void 0||gb===null||gb===void 0||!r(typeof gb, "object"))return false;else if("Equals"in ga)return ga.Equals(gb);else if("Equals"in gb)return false;else if(ga instanceof Array&&gb instanceof Array)return s(ga, gb);else if(ga instanceof Date&&gb instanceof Date)return t(ga, gb);else { const gd=[true];let ge;for(var gg in ga)if(((gh) => { gd[0]=!ga.hasOwnProperty(gh)||gb.hasOwnProperty(gh)&&r(ga[gh], gb[gh]);return!gd[0];})(gg))break;if(gd[0]){ let gf;for(var gh in gb)if(((gi) => { gd[0]=!gb.hasOwnProperty(gi)||ga.hasOwnProperty(gi);return!gd[0];})(gh))break;} return gd[0];} } else return gc=="function"&&("$Func"in ga?ga.$Func===gb.$Func&&ga.$Target===gb.$Target:"$Invokes"in ga&&"$Invokes"in gb&&s(ga.$Invokes, gb.$Invokes));} }
function s(ga, gb){ let gc;let gd;if(n(ga)===n(gb)){ gc=true;gd=0;while(gc&&gd<n(ga)){!r(k(ga, gd), k(gb, gd))?gc=false:void 0;gd=gd+1;} return gc;} else return false;}
function t(ga, gb){ return ga.getTime()===gb.getTime();}
function u(ga){ const gb=typeof ga;return gb=="function"?0:gb=="boolean"?ga?1:0:gb=="number"?ga:gb=="string"?v(ga):gb=="object"?ga==null?0:ga instanceof Array?w(ga):x(ga):0;}
function v(ga){ let gb;if(ga===null)return 0;else { gb=5381;for(let gc=0, gd=ga.length-1;gc<=gd;gc++)gb=y(gb, ga[gc].charCodeAt());return gb;} }
function w(ga){ let gb=-34948909;for(let gc=0, gd=n(ga)-1;gc<=gd;gc++)gb=y(gb, u(k(ga, gc)));return gb;}
function x(ga){ if("GetHashCode"in ga)return ga.GetHashCode();else { const gb=[0];let gc;for(var gd in ga)if(((ge) => { gb[0]=y(y(gb[0], v(ge)), u(ga[ge]));return false;})(gd))break;return gb[0];} }
function y(ga, gb){ return(ga<<5)+ga+gb;}
function z(ga, gb){ if(ga===gb)return 0;else { const gc=typeof ga;switch(gc=="function"?1:gc=="boolean"?2:gc=="number"?2:gc=="string"?2:gc=="object"?3:0){ case 0:return typeof gb=="undefined"?0:-1;case 1:return g("Cannot compare function values.");case 2:return ga<gb?-1:1;case 3:if(ga===null)return -1;else if(gb===null)return 1;else if("CompareTo"in ga)return ga.CompareTo(gb);else if("CompareTo0"in ga)return ga.CompareTo0(gb);else if(ga instanceof Array&&gb instanceof Array)return A(ga, gb);else if(ga instanceof Date&&gb instanceof Date)return B(ga, gb);else { const gd=[0];let ge;for(var gg in ga)if(((gh) =>!ga.hasOwnProperty(gh)?false:!gb.hasOwnProperty(gh)?(gd[0]=1,true):(gd[0]=z(ga[gh], gb[gh]),gd[0]!==0))(gg))break;if(gd[0]===0){ let gf;for(var gh in gb)if(((gi) =>!gb.hasOwnProperty(gi)?false:!ga.hasOwnProperty(gi)&&(gd[0]=-1,true))(gh))break;} return gd[0];} break;} } }
function A(ga, gb){ let gc;let gd;if(n(ga)<n(gb))return -1;else if(n(ga)>n(gb))return 1;else { gc=0;gd=0;while(gc===0&&gd<n(ga)){ gc=z(k(ga, gd), k(gb, gd));gd=gd+1;} return gc;} }
function B(ga, gb){ return z(ga.getTime(), gb.getTime());}
function C(ga){ bq("index");return ga?br("index", H("listitem"), ga):void 0;}
function D(ga){ bq("index");return ga?br("index", H("main"), ga):void 0;}
function E(ga, gb, gc, gd){ return new bb(gb, (ge) =>(gf) => { const gg=gc();gg.SetAnchorRoot(ge);return gd({Vars:gg, Anchors:gg, Target:ge, Event:gf});});}
function F(ga, gb, gc){ const gd=new bP("New_5");const ge=new bV("New_3");const gf=cW(gb);try { while(gf.MoveNext()){ const gg=gf.Current;const gh=gg.Name;ge.SAdd(gh);gd.set_Item(gh, gg);} } finally { if(typeof gf=="object"&&a(gf))gf.Dispose();} return[bW(gb, ca((gi) => { const gj=gi[0];const gk=gi[1];const gl=gi[2];if(ge.Contains(gj))return null;else { const gm=gk===0?cp.GetOrAddHoleFor(ga, gj, () => { const gn=gl==null?null:H(gl.$0);let go=f.Create_1(gn==null?"":gn.$0);return new u0037(gj, go);}):gk===1?cp.GetOrAddHoleFor(ga, gj, () => { const gn=gl==null?null:H(gl.$0);let go=f.Create_1(gn==null?0:gn.$0);return new cq(gj, go);}):gk===2?cp.GetOrAddHoleFor(ga, gj, () => { const gn=gl==null?null:H(gl.$0);let go=f.Create_1(gn==null?false:gn.$0);return new cr(gj, go);}):gk===3?cp.GetOrAddHoleFor(ga, gj, () => { const gn=gl==null?null:H(gl.$0);let go=f.Create_1(gn==null?-8640000000000000:gn.$0);return new cs(gj, go);}):gk===4?cp.GetOrAddHoleFor(ga, gj, () => new ct(gj, f.Create_1([]))):gk===5?cp.GetOrAddHoleFor(ga, gj, () => new cu(gj, f.Create_1(H(globalThis.document.querySelector("[ws-dom="+gj+"]"))))):gk===6?cp.GetOrAddHoleFor(ga, gj, () => { const gn=gl==null?null:H(gl.$0);let go=f.Create_1(gn==null?[]:gn.$0);return new cw(gj, go);}):g("Invalid value type");gd.set_Item(gj, gm);return H(gm);} }, gc)), {$:0, $0:gd}];}
let G=f3((ga) => class gb extends e { static { G=ga(this);} });
function H(ga){ return{$:1, $0:ga};}
let I=f3((ga) => { f6(G);return class gb extends G { static { I=ga(this);} isConst;current;snap;view;id;Get(){ return this.current;} Set(gc){ if(this.isConst)(((gd) => gd("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((gd) => { console.log(gd);}));else { bR(this.snap);this.current=gc;this.snap={s:bM(gc, [])};} } SetFinal(gc){ if(this.isConst)(((gd) => gd("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((gd) => { console.log(gd);}));else { bR(this.snap);this.isConst=true;this.current=gc;this.snap={s:bN(gc)};} } get View(){ return this.view;} UpdateMaybe(gc){ const gd=gc(this.Get());if(gd!=null&&gd.$==1)this.Set(gd.$0);} constructor(gc, gd, ge){ super();this.isConst=gc;this.current=ge;this.snap=gd;this.view=() => this.snap;this.id=bJ();} };});
function J(ga, gb){ const gc=gb.s;if(gc!=null&&gc.$==0)return{s:bN(ga(gc.$0))};else { const gd={s:bO([], [])};M(gb, (ge) => { N(gd, gb, ga(ge));}, gd);return gd;} }
function K(ga, gb, gc){ const gd=ga.s;if(gd==null)gc();else gd!=null&&gd.$==2?(gd.$1.push(gc),gb(gd.$0)):gd!=null&&gd.$==3?(gd.$0.push(gb),gd.$1.push(gc)):gb(gd.$0);}
function L(ga, gb){ const gc=ga.s;if(gc==null)gb();else gc!=null&&gc.$==2?gc.$1.push(gb):gc!=null&&gc.$==3?gc.$1.push(gb):void 0;}
function M(ga, gb, gc){ const gd=ga.s;if(gd==null)bR(gc);else gd!=null&&gd.$==2?(T(gd.$1, gc),gb(gd.$0)):gd!=null&&gd.$==3?(gd.$0.push(gb),T(gd.$1, gc)):gb(gd.$0);}
function N(ga, gb, gc){ const gd=gb.s;if(gd!=null&&gd.$==0)U(ga, gc);else V(ga, gc);}
function O(ga, gb, gc, gd){ const ge=gb.s;const gf=gc.s;const gg=gd.s;if(ge!=null&&ge.$==0)return gf!=null&&gf.$==0?gg!=null&&gg.$==0?{s:bN(ga(ge.$0, gf.$0, gg.$0))}:X(ga, ge.$0, gf.$0, gd):gg!=null&&gg.$==0?Y(ga, ge.$0, gg.$0, gc):Z(ga, ge.$0, gc, gd);else if(gf!=null&&gf.$==0)return gg!=null&&gg.$==0?u0030(ga, gf.$0, gg.$0, gb):u0031(ga, gf.$0, gb, gd);else if(gg!=null&&gg.$==0)return u0032(ga, gg.$0, gb, gc);else { const gh={s:bO([], [])};const gi=() => { const gj=gh.s;if(!(gj!=null&&gj.$==0||gj!=null&&gj.$==2)){ const gk=u0033(gb);const gl=u0033(gc);const gm=u0033(gd);if(gk!=null&&gk.$==1)if(gl!=null&&gl.$==1)if(gm!=null&&gm.$==1)if(gk.$0[1]&&gl.$0[1]&&gm.$0[1])U(gh, ga(gk.$0[0], gl.$0[0], gm.$0[0]));else V(gh, ga(gk.$0[0], gl.$0[0], gm.$0[0]));} };M(gb, gi, gh);M(gc, gi, gh);M(gd, gi, gh);return gh;} }
function P(ga){ const gb=cf(ga);if(gb.length==0)return{s:bN([])};else { const gc={s:bO([], [])};const gd=[n(gb)-1];const ge=() => { if(gd[0]===0){ const gf=ci((gg) => { const gh=gg.s;return gh!=null&&gh.$==0?gh.$0:gh!=null&&gh.$==2?gh.$0:g("value not found by View.Sequence");}, gb);if(cm((gg) => { const gh=gg.s;return gh!=null&&gh.$==0;}, gb))U(gc, gf);else V(gc, gf);} else gd[0]=gd[0]-1;};cg((gf) => { M(gf, ge, gc);}, gb);return gc;} }
function Q(ga, gb, gc){ const gd=gb.s;const ge=gc.s;if(gd!=null&&gd.$==0)return ge!=null&&ge.$==0?{s:bN(ga(gd.$0, ge.$0))}:u0034(ga, gd.$0, gc);else if(ge!=null&&ge.$==0)return u0035(ga, ge.$0, gb);else { const gf={s:bO([], [])};const gg=() => { const gh=gf.s;if(!(gh!=null&&gh.$==0||gh!=null&&gh.$==2)){ const gi=u0033(gb);const gj=u0033(gc);if(gi!=null&&gi.$==1)if(gj!=null&&gj.$==1)if(gi.$0[1]&&gj.$0[1])U(gf, ga(gi.$0[0], gj.$0[0]));else V(gf, ga(gi.$0[0], gj.$0[0]));} };M(gb, gg, gf);M(gc, gg, gf);return gf;} }
function R(ga, gb){ const gc=ga.s;const gd=gb.s;if(gc!=null&&gc.$==0)return gd!=null&&gd.$==0?{s:bN(null)}:gb;else if(gd!=null&&gd.$==0)return ga;else { const ge={s:bO([], [])};const gf=() => { const gg=ge.s;if(!(gg!=null&&gg.$==0||gg!=null&&gg.$==2)){ const gh=u0033(ga);const gi=u0033(gb);if(gh!=null&&gh.$==1)if(gi!=null&&gi.$==1)if(gh.$0[1]&&gi.$0[1])U(ge, null);else V(ge, null);} };M(ga, gf, ge);M(gb, gf, ge);return ge;} }
function S(ga){ const gb=ga.s;if(gb==null)return ga;else if(gb!=null&&gb.$==2){ const gc={s:bM(gb.$0, [])};u0036(ga, gc);return gc;} else if(gb!=null&&gb.$==3){ const gd={s:bO([], [])};M(ga, (ge) => { N(gd, ga, ge);}, gd);return gd;} else return ga;}
function T(ga, gb){ ga.push(gb);if(ga.length%20===0){ const gc=ga.slice(0);fS(ga);for(let ge=0, gf=n(gc)-1;ge<=gf;ge++){ const gd=k(gc, ge);if(typeof gd=="object")(((gg) => { if(gg.s)ga.push(gg);})(gd));else(((gg) => { ga.push(gg);})(gd));} } else void 0;}
function U(ga, gb){ const gc=ga.s;if(gc!=null&&gc.$==3){ ga.s=bN(gb);const gd=gc.$0;for(let ge=0, gf=n(gd)-1;ge<=gf;ge++)(k(gd, ge))(gb);} else void 0;}
function V(ga, gb){ const gc=ga.s;if(gc!=null&&gc.$==3){ ga.s=bM(gb, gc.$1);const gd=gc.$0;for(let ge=0, gf=n(gd)-1;ge<=gf;ge++)(k(gd, ge))(gb);} else void 0;}
function W(ga){ const gb={s:bO([], [])};M(ga, (gc) => { const gd=gc();M(gd, (ge) => { let gf;const gg=gd.s;if(gg!=null&&gg.$==0){ const gh=ga.s;gf=gh!=null&&gh.$==0;} else gf=false;if(gf)U(gb, ge);else V(gb, ge);}, gb);}, gb);return gb;}
function X(ga, gb, gc, gd){ return J((ge) => ga(gb, gc, ge), gd);}
function Y(ga, gb, gc, gd){ return J((ge) => ga(gb, ge, gc), gd);}
function Z(ga, gb, gc, gd){ return Q((ge, gf) => ga(gb, ge, gf), gc, gd);}
function u0030(ga, gb, gc, gd){ return J((ge) => ga(ge, gb, gc), gd);}
function u0031(ga, gb, gc, gd){ return Q((ge, gf) => ga(ge, gb, gf), gc, gd);}
function u0032(ga, gb, gc, gd){ return Q((ge, gf) => ga(ge, gf, gb), gc, gd);}
function u0033(ga){ const gb=ga.s;return gb!=null&&gb.$==0?H([gb.$0, true]):gb!=null&&gb.$==2?H([gb.$0, false]):null;}
function u0034(ga, gb, gc){ return J((gd) => ga(gb, gd), gc);}
function u0035(ga, gb, gc){ return J((gd) => ga(gd, gb), gc);}
function u0036(ga, gb){ const gc=ga.s;if(gc==null)bR(gb);else gc!=null&&gc.$==2?T(gc.$1, gb):gc!=null&&gc.$==3?T(gc.$1, gb):void 0;}
let u0037=f3((ga) => { f6(q);return class gb extends q { static { u0037=ga(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return H(this.fillWith.View);} AddAttribute(gc, gd){(gc(gd))(es(this.fillWith));} get AsChoiceView(){ return eE(cL(String, this.fillWith.View));} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
let u0038=f3((ga) => { f6(q);return class gb extends q { static { u0038=ga(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
function u0039(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (ga) => { const gb=Math.random()*16|0;const gc=ga=="x"?gb:gb&3|8;return gc.toString(16);});}
let $=f3((ga) => class gb { static { $=ga(this);} static People;static { this.People=bS(["John", "Paul"]);} });
let ba=f3((ga) => { f6(q);return class gb extends q { static { ba=ga(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return eD(this.fillWith);} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
let bb=f3((ga) => { f6(q);return class gb extends q { static { bb=ga(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
function bc(ga){ const gb={};const gc=cW(ga);try { while(gc.MoveNext()){ const gd=gc.Current;gb[gd[0]]=gd[1];} } finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} return gb;}
function bd(ga){ return(gb) => { try {(ga())(gb);} catch(gc){ gb.k(cz(gc));} };}
function be(ga, gb){ const gc=(bf())[0];const gd=gb==null?gc:gb.$0;bi().Fork(() => { if(!gd.c)ga(cy((ge) => { if(ge.$==1)bg(ge.$0);}, gd));});}
function bf(){ return c2.defCTS;}
function bg(ga){ console.log("WebSharper: Uncaught asynchronous exception", ga);}
function bh(ga){ return(gb) => { const gc=[false];const gd=(ge) => { if(gc[0])g("A continuation provided by Async.FromContinuations was invoked multiple times");else { gc[0]=true;bi().Fork(ge);} };ga((ge) => { gd(() => { gb.k(cA(ge));});}, (ge) => { gd(() => { gb.k(cz(ge));});}, (ge) => { gd(() => { gb.k(cB(ge));});});};}
function bi(){ return c2.scheduler;}
function bj(ga){ return(gb) => { gb.k(cA(ga));};}
function bk(ga, gb){ return bm((gc) => { ga(cy((gd) => { if(gd.$==0){ const ge=gd.$0;bi().Fork(() => { try {(gb(ge))(gc);} catch(gf){ gc.k(cz(gf));} });} else bi().Fork(() => { gc.k(gd);});}, gc.ct));});}
function bl(){ return c2.Zero;}
function bm(ga){ return(gb) => { if(gb.ct.c)bn(gb);else ga(gb);};}
function bn(ga){ ga.k(cB(new dt("New", ga.ct)));}
function bo(ga){ return bh((gb, gc) => { ga.then(gb, (gd) => gc(bp(gd)));});}
function bp(ga){ return ga instanceof Error?ga:new c1(ga);}
function bq(ga){!bs()?(bt(true),bu(globalThis.document.body, "")):void 0;bv().set_Item(ga, bw(""));}
function br(ga, gb, gc){ let gd;const ge=(gd=null,[bw(ga).TryGetValue(gb==null?"":gb.$0, {get:() => gd, set:(gf) => { gd=gf;}}), gd]);return ge[0]?bx(ge[1].cloneNode(true), gc):(console.warn("Local template doesn't exist", gb),bI.Empty);}
function bs(){ return c4.LocalTemplatesLoaded;}
function bt(ga){ c4.LocalTemplatesLoaded=ga;}
function bu(ga, gb){ const gc=bw(gb);const gd=new bP("New_5");const ge=ga.querySelectorAll("[ws-template]");for(let gq=0, gr=ge.length-1;gq<=gr;gq++){ const gf=ge[gq];const gg=gf.getAttribute("ws-template").toLowerCase();gf.removeAttribute("ws-template");gd.set_Item(gg, by(gf));} const gh=ga.querySelectorAll("[ws-children-template]");for(let gs=0, gt=gh.length-1;gs<=gt;gs++){ const gi=gh[gs];const gj=gi.getAttribute("ws-children-template").toLowerCase();gi.removeAttribute("ws-children-template");gd.set_Item(gj, bz(gi));} const gk=ga.querySelectorAll("template[id]");for(let gu=0, gv=gk.length-1;gu<=gv;gu++){ const gl=gk[gu];gd.set_Item(gl.getAttribute("id").toLowerCase(), bA(gl));} const gm=ga.querySelectorAll("template[name]");for(let gw=0, gx=gm.length-1;gw<=gx;gw++){ const gn=gm[gw];gd.set_Item(gn.getAttribute("name").toLowerCase(), bA(gn));} const go=new bV("New_3");function gp(gy){ if(!gc.ContainsKey(gy)){ let gz;const gA=(gz=null,[gd.TryGetValue(gy, {get:() => gz, set:(gB) => { gz=gB;}}), gz]);if(gA[0]){ go.SAdd(gy);gd.RemoveKey(gy);bB(gb, H(gy), gA[1], H(gp));} else console.warn(go.Contains(gy)?"Encountered loop when instantiating "+gy:"Local template does not exist: "+gy);} } while(gd.count>0)gp(bX(gd.Keys));}
function bv(){ return c4.LoadedTemplates;}
function bw(ga){ let gb;const gc=(gb=null,[bv().TryGetValue(ga, {get:() => gb, set:(ge) => { gb=ge;}}), gb]);if(gc[0])return gc[1];else { const gd=new bP("New_5");bv().set_Item(ga, gd);return gd;} }
function bx(ga, gb){ let gc;const gd=bC(ga, bW(gb, bD().Values));const ge=gd[1];const gf=gd[0];const gg=gf.Els;return!r(gg, null)&&gg.length===1&&(k(gg, 0)instanceof Node&&(r(k(gg, 0).nodeType, Node.ELEMENT_NODE)&&(gc=k(gg, 0),true)))?ds.TreeNode(gf, ge):bI.Mk(cE(gf), ge);}
function by(ga){ ga.removeAttribute("ws-template");const gb=ga.getAttribute("ws-replace");if(gb==null){ } else { ga.removeAttribute("ws-replace");const gc=ga.parentNode;if(r(gc, null)){ } else { const gd=globalThis.document.createElement(ga.tagName);gd.setAttribute("ws-replace", gb);gc.replaceChild(gd, ga);} } const ge=globalThis.document.createElement("div");ge.appendChild(ga);return ge;}
function bz(ga){ const gb=globalThis.document.createElement("div");while(ga.hasChildNodes())gb.appendChild(ga.firstChild);return gb;}
function bA(ga){ const gb=globalThis.document.createElement("div");const gc=ga.content;for(let gd=0, ge=gc.childNodes.length-1;gd<=ge;gd++)gb.appendChild(gc.childNodes[gd].cloneNode(true));return gb;}
function bB(ga, gb, gc, gd){ const ge=new bV("New_3");function gf(gm, gn){ while(true)switch(gm){ case 0:if(gn!==null){ const go=gn.nextSibling;if(r(gn.nodeType, Node.TEXT_NODE))dv(gn);else if(r(gn.nodeType, Node.ELEMENT_NODE))gh(gn);gn=go;} else return null;break;case 1:const gp=dD(gn.nodeName, H(3), null).toLowerCase();const gq=gp.indexOf(".");const gr=gq===-1?[ga, gp]:[dD(gp, null, H(gq-1)), dD(gp, H(gq+1), null)];const gs=gr[1];const gt=gr[0];if(gt!=""&&!bv().ContainsKey(gt))return dw(gs);else { if(gt==""&&gd!=null)gd.$0(gs);const gu=bv().Item(gt);if(!gu.ContainsKey(gs))return dw(gs);else { const gv=gu.Item(gs);const gw=gv.cloneNode(true);const gx=new bV("New_3");const gy=new bP("New_5");const gz=gn.attributes;for(let gJ=0, gK=gz.length-1;gJ<=gK;gJ++){ const gA=gz.item(gJ).name.toLowerCase();const gB=gz.item(gJ).nodeValue;let gC=gB==""?gA:gB.toLowerCase();gy.set_Item(gA, gC);if(!gx.SAdd(gA))console.warn("Hole mapped twice", gA);} for(let gL=0, gM=gn.childNodes.length-1;gL<=gM;gL++){ const gD=gn.childNodes[gL];if(r(gD.nodeType, Node.ELEMENT_NODE))if(!gx.SAdd(gD.nodeName.toLowerCase()))console.warn("Hole filled twice", gs);} const gE=gn.childNodes.length===1&&r(gn.firstChild.nodeType, Node.TEXT_NODE);if(gE){ const gF=dx(gw, gn.firstChild.textContent, gs);const gG=((gN) =>(gO) => gN.SAdd(gO))(gx);let gH=((gN) =>(gO) => { if(gO!=null)gN(gO.$0);})((gN) => { gG(gN);});gH(gF);} dy(gw, gx);if(!gE){ for(let gN=0, gO=gn.childNodes.length-1;gN<=gO;gN++){ const gI=gn.childNodes[gN];if(r(gI.nodeType, Node.ELEMENT_NODE))if(gI.hasAttributes())dz(gw, gI);else gg(gw, gI);} } dA(gw, gy);dB(gw, gn.parentNode, gn);gn.parentNode.removeChild(gn);return;} } break;} } function gg(gm, gn){ const go=gn.nodeName.toLowerCase();const gp=(gt, gu) => { if(go=="title"&&gn.hasChildNodes()){ const gv=dE(gn.textContent);gn.removeChild(gn.firstChild);while(gv.hasChildNodes())gn.appendChild(gv.firstChild);} gh(gn);return dB(gn, gt, gu);};bE(gm, "[ws-attr-holes]", (gt) => { const gu=eH(gt.getAttribute("ws-attr-holes"), [" "], 1);for(let gy=0, gz=gu.length-1;gy<=gz;gy++){ const gv=k(gu, gy);let gw=new RegExp("\\${"+go+"}", "ig");let gx=gt.getAttribute(gv).replace(gw, gn.textContent);gt.setAttribute(gv, gx);} });const gq=gm.querySelector("[ws-hole="+go+"]");if(r(gq, null)){ const gr=gm.querySelector("[ws-replace="+go+"]");if(r(gr, null)){ const gs=gm.querySelector("slot[name="+go+"]");return gm.tagName.toLowerCase()=="template"?(gp(gs.parentNode, gs),void gs.parentNode.removeChild(gs)):null;} else { gp(gr.parentNode, gr);gr.parentNode.removeChild(gr);return;} } else { while(gq.hasChildNodes())gq.removeChild(gq.lastChild);gq.removeAttribute("ws-hole");return gp(gq, null);} } function gh(gm){ if(!gm.hasAttribute("ws-preserve"))if(eI(gm.nodeName.toLowerCase(), "ws-"))gj(gm);else { dC(gm);gi(gm.firstChild);} } function gi(gm){ return gf(0, gm);} function gj(gm){ return gf(1, gm);} function gk(gm){ while(true){ const gn=gm.querySelector("[ws-template]");if(r(gn, null)){ const go=gm.querySelector("[ws-children-template]");if(r(go, null)){ const gp=gm.querySelectorAll("template[id]");for(let gv=1, gw=gp.length-1;gv<=gw;gv++){ const gq=gp[gv];if(ge.Contains(gq)){ } else { bB(ga, H(gq.getAttribute("id")), gq, null);ge.SAdd(gq);} } const gr=gm.querySelectorAll("template[name]");for(let gx=1, gy=gr.length-1;gx<=gy;gx++){ const gs=gr[gx];if(ge.Contains(gs)){ } else { bB(ga, H(gs.getAttribute("name")), gs, null);ge.SAdd(gs);} } return null;} else { const gt=go.getAttribute("ws-children-template");go.removeAttribute("ws-children-template");bB(ga, H(gt), go, null);gm=gm;} } else { const gu=gn.getAttribute("ws-template");(bF(ga, H(gu), gn))(null);gm=gm;} } } const gl=(gb==null?"":gb.$0).toLowerCase();bw(ga).set_Item(gl, gc);if(gc.hasChildNodes()){ gk(gc);gi(gc.firstChild);} }
function bC(ga, gb){ let gc;const gd=[];const ge=[];const gf=[];const gg=[];const gh=new bP("New_5");const gi=cW(gb);try { while(gi.MoveNext()){ const gj=gi.Current;gh.set_Item(gj.Name, gj);} } finally { if(typeof gi=="object"&&a(gi))gi.Dispose();} let gk=dF(ga);const gl=(gu, gv) => { const gw=d8(gu, gv);ge.push(d9(gw));gf.push([gu, gw]);const gx=f7(gw.OnAfterRender);if(gx==null)return null;else { const gy=gx.$0;gg.push(() => { gy(gu);});return;} };const gm=(gu) => { let gv;const gw=(gv=null,[gh.TryGetValue(gu, {get:() => gv, set:(gz) => { gv=gz;}}), gv]);if(gw[0]){ const gx=gw[1];if(gx instanceof u0038)return H(gx.Value);else if(gx instanceof ba)return H(bI.TextNode(gx.Value));else { const gy=gx.ForTextView();return gy==null?null:H(bI.TextView(gy.$0));} } else return null;};bE(ga, "[ws-hole]", (gu) => { const gv=gu.getAttribute("ws-hole");gu.removeAttribute("ws-hole");while(gu.hasChildNodes())gu.removeChild(gu.lastChild);const gw=gm(gv);if(gw!=null&&gw.$==1){ const gx=gw.$0;c5(gu, gx.docNode);gd.push(dq.New(d_(gu), gx.docNode, null, gu, bJ(), null));ge.push(gx.updates);} });bE(ga, "[ws-replace]", (gu) => { const gv=gm(gu.getAttribute("ws-replace"));if(gv!=null&&gv.$==1){ const gw=gv.$0;const gx=gu.parentNode;const gy=globalThis.document.createTextNode("");gx.replaceChild(gy, gu);const gz=da(gy, gw.docNode);gk=dF(ga);const gA=cb((gB) => gu===gB, gk);if(gA==null){ } else l(gk, gA.$0, gw.docNode);gd.push(dq.New(d_(gx), gw.docNode, H([gz, gy]), gx, bJ(), null));ge.push(gw.updates);} });let gn=false;bE(ga, "slot", (gu) => { const gv=gu.getAttribute("name");const gw=gv==""||gv==null?"default":gv.toLowerCase();if(gn&&gw=="default"||!r(ga.parentElement, null)){ } else { while(gu.hasChildNodes())gu.removeChild(gu.lastChild);if(gw=="default")gn=true;const gx=gm(gw);if(gx!=null&&gx.$==1){ const gy=gx.$0;c5(gu, gy.docNode);gd.push(dq.New(d_(gu), gy.docNode, null, gu, bJ(), null));ge.push(gy.updates);} } });bE(ga, "[ws-attr]", (gu) => { let gv;const gw=gu.getAttribute("ws-attr");gu.removeAttribute("ws-attr");const gx=(gv=null,[gh.TryGetValue(gw, {get:() => gv, set:(gz) => { gv=gz;}}), gv]);if(gx[0]){ const gy=gx[1];if(gy instanceof en)gl(gu, gy.Value);else console.warn("Attribute hole filled with non-attribute data", gw);} });bE(ga, "[ws-on]", (gu) => { gl(gu, eA.Concat(ca((gv) => { let gw;const gx=eH(gv, [":"], 1);const gy=(gw=null,[gh.TryGetValue(k(gx, 1), {get:() => gw, set:(gA) => { gw=gA;}}), gw]);if(gy[0]){ const gz=gy[1];return gz instanceof eo?H(ep(k(gx, 0), gz.Value)):gz instanceof bb?H(eA.Handler(k(gx, 0), gz.Value)):(console.warn("Event hole on"+k(gx, 0)+" filled with non-event data", k(gx, 1)),null);} else return null;}, eH(gu.getAttribute("ws-on"), [" "], 1))));gu.removeAttribute("ws-on");});bE(ga, "[ws-onafterrender]", (gu) => { let gv;const gw=gu.getAttribute("ws-onafterrender");const gx=(gv=null,[gh.TryGetValue(gw, {get:() => gv, set:(gz) => { gv=gz;}}), gv]);if(gx[0]){ const gy=gx[1];if(gy instanceof eB){ gu.removeAttribute("ws-onafterrender");gl(gu, eq(gy.Value));} else if(gy instanceof eC){ gu.removeAttribute("ws-onafterrender");gl(gu, eq(gy.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gw);} });bE(ga, "[ws-var]", (gu) => { let gv;const gw=gu.getAttribute("ws-var");gu.removeAttribute("ws-var");const gx=(gv=null,[gh.TryGetValue(gw, {get:() => gv, set:(gy) => { gv=gy;}}), gv]);if(gx[0])gx[1].AddAttribute((gy) =>(gz) => gl(gy, gz), gu);});const go=() => { bG("[ws-dom]", (gu) => { let gv;let gw;let gx;const gy=(gv=null,[gh.TryGetValue(gu.getAttribute("ws-dom").toLowerCase(), {get:() => gv, set:(gC) => { gv=gC;}}), gv]);if(gy[0]){ const gz=gy[1];if(gz instanceof cu){ const gA=gz.Value;gu.removeAttribute("ws-dom");gw=gu;const gB=new MutationObserver((gC, gD) => { cg((gE) => { gE.removedNodes.forEach(f8((gF) => gF[0]===gw&&gE.addedNodes.length!==1?(gA.SetFinal(null),gD.disconnect()):null), null);}, gC);});if(gu.parentElement!==null)gB.observe(gu.parentElement, (gx={},gx.childList=true,gx));gA.Set(H(gu));cN((gC) => { if(gC!=null&&gC.$==1){ const gD=gC.$0;if(gw===gD){ } else { gw.replaceWith(gD);gw=gD;} } else { gw.remove();gB.disconnect();} }, gA.View);} } });};bE(ga, "[ws-attr-holes]", (gu) => { const gv=new RegExp(bH(), "g");const gw=eH(gu.getAttribute("ws-attr-holes"), [" "], 1);gu.removeAttribute("ws-attr-holes");for(let gx=0, gy=gw.length-1;gx<=gy;gx++)((() => { let gz;const gA=k(gw, gx);const gB=gu.getAttribute(gA);let gC=null;let gD=0;const gE=[];while(gC=gv.exec(gB),gC!==null){ const gF=dD(gB, H(gD), H(gv.lastIndex-k(gC, 0).length-1));gD=gv.lastIndex;gE.push([gF, k(gC, 1)]);} const gG=dD(gB, H(gD), null);gv.lastIndex=0;const gH=ch((gM, gN) =>(((gO) => { const gP=gO[0];const gQ=gO[1];return(gR) => { let gS;const gT=gR[0];const gU=gR[1];const gV=(gS=null,[gh.TryGetValue(gQ, {get:() => gS, set:(gX) => { gS=gX;}}), gS]);const gW=gV[0]?gV[1].AsChoiceView:eD("");return gW.$==1?[gP, eF.Cons(gT==""?gW.$0:cL((gX) => gX+gT, gW.$0), gU)]:[gP+gW.$0+gT, gU];};})(gM))(gN), gE, [gG, eF.Empty]);if(gH[1].$==1){ if(gH[1].$1.$==1){ if(gH[1].$1.$1.$==1){ if(gH[1].$1.$1.$1.$==0){ const gI=gH[0];gz=er(gA, cQ((gM, gN, gO) => gI+gM+gN+gO, gH[1].$0, gH[1].$1.$0, gH[1].$1.$1.$0));} else { const gJ=gH[0];gz=er(gA, cL((gM) => gJ+eG("", gM), cR(gH[1])));} } else { const gK=gH[0];gz=er(gA, cS((gM, gN) => gK+gM+gN, gH[1].$0, gH[1].$1.$0));} } else if(gH[0]=="")gz=er(gA, gH[1].$0);else { const gL=gH[0];gz=er(gA, cL((gM) => gL+gM, gH[1].$0));} } else gz=eA.Create(gA, gH[0]);return gl(gu, gz);})());});let gp=gk;const gq=gg.length==0?H(() => { go();}):H((gu) => { go();cg((gv) => { gv(gu);}, gg);});const gr=!r(gk, null)&&gk.length===1&&(k(gk, 0)instanceof Node&&(k(gk, 0)instanceof Element&&(gc=k(gk, 0),true)))?H(gc):null;let gs={Els:gp, Dirty:true, Holes:gd, Attrs:gf, Render:gq?gq.$0:void 0, El:gr?gr.$0:void 0};let gt=f9(gs, ["Render", "El"]);return[gt, d5(cM(), cT, ge)];}
function bD(){ return c4.GlobalHoles;}
function bE(ga, gb, gc){ dL(ga, gb, (gd) => { if(gd.closest("[ws-preserve]")==null)gc(gd);});}
function bF(ga, gb, gc){ const gd=by(gc);return(ge) => { bB(ga, gb, gd, ge);};}
function bG(ga, gb){ dM(ga, (gc) => { if(gc.closest("[ws-preserve]")==null)gb(gc);});}
function bH(){ return c4.TextHoleRE;}
let bI=f3((ga) => class gb extends e { static { bI=ga(this);} docNode;updates;static RunById(gc, gd){ const ge=globalThis.document.getElementById(gc);if(r(ge, null))g("invalid id: "+gc);else bI.Run(ge, gd);} static Convert(gc, gd){ return bI.Flatten(cJ(gc, gd));} static Run(gc, gd){ c5(gc, gd.docNode);bI.RunInPlace(false, gc, gd);} static Flatten(gc){ return bI.EmbedView(cL(bI.Concat, gc));} static get Empty(){ return bI.Mk(null, cM());} static RunInPlace(gc, gd, ge){ const gf=c7(gd, ge.docNode);cN(dT()||d0()?d1(c8(gc, gf, ge.docNode)):() => { c9(gc, gf, ge.docNode);}, ge.updates);} static Concat(gc){ return d5(bI.Empty, bI.Append, d4(gc));} static EmbedView(gc){ const gd=c_();return bI.Mk(cF(gd), cL(() => { }, cP((ge) => { c$(gd, ge.docNode);return ge.updates;}, gc)));} static Mk(gc, gd){ return new gb(gc, gd);} static Append(gc, gd){ return bI.Mk(cG(gc.docNode, gd.docNode), cT(gc.updates, gd.updates));} static TextNode(gc){ return bI.Mk(cH(globalThis.document.createTextNode(gc)), cM());} static TextView(gc){ const gd=di();return bI.Mk(cI(gd), cL((ge) => { dj(gd, ge);}, gc));} constructor(gc, gd){ super();this.docNode=gc;this.updates=gd;} });
function bJ(){ bK(bL()+1);return bL();}
function bK(ga){ dp.counter=ga;}
function bL(){ return dp.counter;}
function bM(ga, gb){ return{$:2, $0:ga, $1:gb};}
function bN(ga){ return{$:0, $0:ga};}
function bO(ga, gb){ return{$:3, $0:ga, $1:gb};}
let bP=f3((ga) => class gb extends e { static { bP=ga(this);} equals;hash;count;data;set_Item(gc, gd){ this.set(gc, gd);} set(gc, gd){ const ge=this.hash(gc);const gf=this.data[ge];if(gf==null){ this.count=this.count+1;this.data[ge]=new Array({K:gc, V:gd});} else { const gg=cb((gh) => this.equals.apply(null, [(h(gh))[0], gc]), gf);if(gg==null){ this.count=this.count+1;gf.push({K:gc, V:gd});} else gf[gg.$0]={K:gc, V:gd};} } TryGetValue(gc, gd){ const ge=this.data[this.hash(gc)];if(ge==null)return false;else { const gf=cc((gg) => { const gh=h(gg);return this.equals.apply(null, [gh[0], gc])?H(gh[1]):null;}, ge);return gf!=null&&gf.$==1&&(gd.set(gf.$0),true);} } RemoveKey(gc){ return this.remove(gc);} ContainsKey(gc){ const gd=this.data[this.hash(gc)];return gd==null?false:cd((ge) => this.equals.apply(null, [(h(ge))[0], gc]), gd);} get Keys(){ return new dS(this);} GetEnumerator(){ return cZ(ce(cv(this.data)));} get Values(){ return new eP(this);} remove(gc){ const gd=this.hash(gc);const ge=this.data[gd];if(ge==null)return false;else { const gf=cj((gg) =>!this.equals.apply(null, [(h(gg))[0], gc]), ge);return n(gf)<ge.length&&(this.count=this.count-1,this.data[gd]=gf,true);} } Item(gc){ return this.get(gc);} get(gc){ const gd=this.data[this.hash(gc)];return gd==null?cV():cl((ge) => { const gf=h(ge);return this.equals.apply(null, [gf[0], gc])?H(gf[1]):null;}, gd);} static New_5(){ return new this("New_5");} static New_6(gc, gd, ge){ return new this("New_6", gc, gd, ge);} constructor(gc, gd, ge, gf){ if(gc=="New_5"){ gc="New_6";gd=[];ge=r;gf=u;} if(gc=="New_6"){ const gg=gd;const gh=ge;const gi=gf;super();this.equals=gh;this.hash=gi;this.count=0;this.data=[];const gj=cW(gg);try { while(gj.MoveNext()){ const gk=gj.Current;this.set(gk.K, gk.V);} } finally { if(typeof gj=="object"&&a(gj))gj.Dispose();} } } });
let bQ=f3((ga) => class gb { static { bQ=ga(this);} });
function bR(ga){ let gb;const gc=ga.s;if(gc==null||(gc!=null&&gc.$==2?(gb=gc.$1,false):gc!=null&&gc.$==3?(gb=gc.$1,false):true))void 0;else { ga.s=null;for(let ge=0, gf=n(gb)-1;ge<=gf;ge++){ const gd=k(gb, ge);if(typeof gd=="object")(((gg) => { bR(gg);})(gd));else gd();} } }
function bS(ga){ return bT((gb) => gb, ga);}
function bT(ga, gb){ return bU(ga, dr(cf(gb)));}
function bU(ga, gb){ return new p("New", ga, gb);}
let bV=f3((ga) => class gb extends e { static { bV=ga(this);} equals;hash;data;count;SAdd(gc){ return this.add(gc);} Contains(gc){ const gd=this.data[this.hash(gc)];return gd==null?false:this.arrContains(gc, gd);} add(gc){ const gd=this.hash(gc);const ge=this.data[gd];return ge==null?(this.data[gd]=[gc],this.count=this.count+1,true):this.arrContains(gc, ge)?false:(ge.push(gc),this.count=this.count+1,true);} arrContains(gc, gd){ let ge=true;let gf=0;const gg=gd.length;while(ge&&gf<gg)if(this.equals.apply(null, [gd[gf], gc]))ge=false;else gf=gf+1;return!ge;} GetEnumerator(){ return cW(e7(this.data));} ExceptWith(gc){ const gd=cW(gc);try { while(gd.MoveNext())this.Remove(gd.Current);} finally { if(typeof gd=="object"&&a(gd))gd.Dispose();} } get Count(){ return this.count;} IntersectWith(gc){ const gd=new bV("New_4", gc, this.equals, this.hash);const ge=e7(this.data);for(let gg=0, gh=ge.length-1;gg<=gh;gg++){ const gf=ge[gg];if(!gd.Contains(gf))this.Remove(gf);} } Remove(gc){ const gd=this.data[this.hash(gc)];return gd==null?false:this.arrRemove(gc, gd)&&(this.count=this.count-1,true);} CopyTo(gc, gd){ const ge=e7(this.data);for(let gf=0, gg=ge.length-1;gf<=gg;gf++)l(gc, gf+gd, ge[gf]);} arrRemove(gc, gd){ let ge=true;let gf=0;const gg=gd.length;while(ge&&gf<gg)if(this.equals.apply(null, [gd[gf], gc])){ gd.splice(gf, 1);ge=false;} else gf=gf+1;return!ge;} static New_3(){ return new this("New_3");} static New_4(gc, gd, ge){ return new this("New_4", gc, gd, ge);} static New_2(gc){ return new this("New_2", gc);} constructor(gc, gd, ge, gf){ if(gc=="New_3"){ gc="New_4";gd=[];ge=r;gf=u;} let gg;if(gc=="New_2"){ gg=gd;gc="New_4";gd=gg;ge=r;gf=u;} if(gc=="New_4"){ const gh=gd;const gi=ge;const gj=gf;super();this.equals=gi;this.hash=gj;this.data=[];this.count=0;const gk=cW(gh);try { while(gk.MoveNext())this.add(gk.Current);} finally { if(typeof gk=="object"&&a(gk))gk.Dispose();} } } });
function bW(ga, gb){ return{GetEnumerator:() => { const gc=cW(ga);const gd=[true];return new c0(gc, null, (ge) => { if(ge.s.MoveNext()){ ge.c=ge.s.Current;return true;} else { const gf=ge.s;if(!r(gf, null))gf.Dispose();ge.s=null;return gd[0]&&(gd[0]=false,ge.s=cW(gb),ge.s.MoveNext()?(ge.c=ge.s.Current,true):(ge.s.Dispose(),ge.s=null,false));} }, (ge) => { const gf=ge.s;if(!r(gf, null))gf.Dispose();});}};}
function bX(ga){ const gb=cW(ga);try { return gb.MoveNext()?gb.Current:dP();} finally { if(typeof gb=="object"&&a(gb))gb.Dispose();} }
function bY(ga, gb, gc){ let gd=gb;const ge=cW(gc);try { while(ge.MoveNext())gd=ga(gd, ge.Current);return gd;} finally { if(typeof ge=="object"&&a(ge))ge.Dispose();} }
function bZ(ga, gb){ return{GetEnumerator:() => { const gc=cW(gb);const gd=new bV("New_3");return new c0(null, null, (ge) => { let gf;let gg;if(gc.MoveNext()){ gf=gc.Current;gg=gd.SAdd(ga(gf));while(!gg&&gc.MoveNext()){ gf=gc.Current;gg=gd.SAdd(ga(gf));} return gg&&(ge.c=gf,true);} else return false;}, () => { gc.Dispose();});}};}
function b0(ga, gb){ const gc=cW(gb);try { while(gc.MoveNext())ga(gc.Current);} finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} }
function b1(ga, gb){ return{GetEnumerator:() => { const gc=cW(gb);return new c0(null, null, (gd) => gc.MoveNext()&&(gd.c=ga(gc.Current),true), () => { gc.Dispose();});}};}
function b2(ga){ return{GetEnumerator:() => cW(ga())};}
function b3(ga, gb){ return b5(b1(ga, gb));}
function b4(ga){ const gb=cW(ga);try { if(!gb.MoveNext())b7();let gc=gb.Current;while(gb.MoveNext()){ const gd=gb.Current;if(z(gd, gc)===1)gc=gd;} return gc;} finally { if(typeof gb=="object"&&a(gb))gb.Dispose();} }
function b5(ga){ return{GetEnumerator:() => { const gb=cW(ga);function gc(gd){ while(true){ const ge=gd.s;if(r(ge, null)){ if(gb.MoveNext()){ gd.s=cW(gb.Current);gd=gd;} else { gb.Dispose();return false;} } else if(ge.MoveNext()){ gd.c=ge.Current;return true;} else { gd.Dispose();gd.s=null;gd=gd;} } } return new c0(null, null, gc, (gd) => { const ge=gd.s;if(!r(ge, null))ge.Dispose();if(!r(gb, null))gb.Dispose();});}};}
function b6(ga, gb){ return b8(ga, b9(gb));}
function b7(){ return g("The input sequence was empty.");}
function b8(ga, gb){ ga<0?dR():void 0;return{GetEnumerator:() => { const gc=[cW(gb)];return new c0(0, null, (gd) => { gd.s=gd.s+1;if(gd.s>ga)return false;else { const ge=gc[0];return r(ge, null)?dP():ge.MoveNext()?(gd.c=ge.Current,gd.s===ga?(ge.Dispose(),gc[0]=null):void 0,true):(ge.Dispose(),gc[0]=null,dP());} }, () => { const gd=gc[0];if(!r(gd, null))gd.Dispose();});}};}
function b9(ga){ return{GetEnumerator:() => new c0(0, null, (gb) => { gb.c=ga(gb.s);gb.s=gb.s+1;return true;}, void 0)};}
function b_(ga, gb){ return!b$((gc) =>!ga(gc), gb);}
function b$(ga, gb){ const gc=cW(gb);try { let gd=false;while(!gd&&gc.MoveNext())gd=ga(gc.Current);return gd;} finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} }
function ca(ga, gb){ const gc=[];for(let ge=0, gf=gb.length-1;ge<=gf;ge++){ const gd=ga(gb[ge]);if(gd==null){ } else gc.push(gd.$0);} return gc;}
function cb(ga, gb){ let gc=null;let gd=0;while(gd<gb.length&&gc==null){ ga(gb[gd])?gc=H(gd):void 0;gd=gd+1;} return gc;}
function cc(ga, gb){ let gc=null;let gd=0;while(gd<gb.length&&gc==null){ const ge=ga(gb[gd]);if(ge!=null&&ge.$==1)gc=ge;gd=gd+1;} return gc;}
function cd(ga, gb){ let gc=false;let gd=0;while(!gc&&gd<n(gb))if(ga(gb[gd]))gc=true;else gd=gd+1;return gc;}
function ce(ga){ return Array.prototype.concat.apply([], cf(ga));}
function cf(ga){ if(ga instanceof Array)return ga.slice();else if(ga instanceof eF)return ck(ga);else { const gb=[];const gc=cW(ga);try { while(gc.MoveNext())gb.push(gc.Current);return gb;} finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} } }
function cg(ga, gb){ for(let gc=0, gd=gb.length-1;gc<=gd;gc++)ga(gb[gc]);}
function ch(ga, gb, gc){ let gd=gc;const ge=gb.length;for(let gf=1, gg=ge;gf<=gg;gf++)gd=ga(gb[ge-gf], gd);return gd;}
function ci(ga, gb){ const gc=new Array(gb.length);for(let gd=0, ge=gb.length-1;gd<=ge;gd++)gc[gd]=ga(gb[gd]);return gc;}
function cj(ga, gb){ const gc=[];for(let gd=0, ge=gb.length-1;gd<=ge;gd++)if(ga(gb[gd]))gc.push(gb[gd]);return gc;}
function ck(ga){ const gb=[];let gc=ga;while(!(gc.$==0)){ gb.push(fc(gc));gc=fd(gc);} return gb;}
function cl(ga, gb){ const gc=cc(ga, gb);return gc==null?g("KeyNotFoundException"):gc.$0;}
function cm(ga, gb){ let gc=true;let gd=0;while(gc&&gd<n(gb))if(ga(gb[gd]))gd=gd+1;else gc=false;return gc;}
function cn(ga, gb){ const gc=new Array(ga);for(let gd=0, ge=ga-1;gd<=ge;gd++)gc[gd]=gb;return gc;}
function co(ga, gb){ if(ga<0)g("Negative size given.");else null;const gc=new Array(ga);for(let gd=0, ge=ga-1;gd<=ge;gd++)gc[gd]=gb(gd);return gc;}
let cp=f3((ga) => class gb extends e { static { cp=ga(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(gc, gd, ge){ let gf;const gg=cp.GetHolesFor(gc);const gh=(gf=null,[gg.TryGetValue(gd, {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gh[0])return gh[1];else { const gi=ge();gg.set_Item(gd, gi);return gi;} } static GetHolesFor(gc){ let gd;const ge=(gd=null,[cp.initialized.TryGetValue(gc, {get:() => gd, set:(gg) => { gd=gg;}}), gd]);if(ge[0])return ge[1];else { const gf=new bP("New_5");cp.initialized.set_Item(gc, gf);return gf;} } static { cp.initialized=new bP("New_5");cp.instances=new bP("New_5");} });
let cq=f3((ga) => { f6(q);return class gb extends q { static { cq=ga(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return H(cL(String, this.fillWith.View));} AddAttribute(gc, gd){(gc(gd))(et(this.fillWith));} get AsChoiceView(){ return eE(cL(String, this.fillWith.View));} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
let cr=f3((ga) => { f6(q);return class gb extends q { static { cr=ga(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return H(cL(String, this.fillWith.View));} AddAttribute(gc, gd){(gc(gd))(eu(this.fillWith));} get AsChoiceView(){ return eE(cL(String, this.fillWith.View));} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
let cs=f3((ga) => { f6(q);return class gb extends q { static { cs=ga(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return H(cL((gc) =>(new Date(gc)).toLocaleString(), this.fillWith.View));} AddAttribute(gc, gd){(gc(gd))(ev(this.fillWith));} get AsChoiceView(){ return eE(cL((gc) =>(new Date(gc)).toLocaleString(), this.fillWith.View));} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
let ct=f3((ga) => { f6(q);return class gb extends q { static { ct=ga(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return H(cL(String, this.fillWith.View));} AddAttribute(gc, gd){(gc(gd))(ew(this.fillWith));} get AsChoiceView(){ return eE(cL(String, this.fillWith.View));} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
let cu=f3((ga) => { f6(q);return class gb extends q { static { cu=ga(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
function cv(ga){ let gb=[];let gc;for(var gd in ga)gb.push(ga[gd]);return gb;}
let cw=f3((ga) => { f6(q);return class gb extends q { static { cw=ga(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return H(cL((gc) => eG(",", gc), this.fillWith.View));} AddAttribute(gc, gd){(gc(gd))(ex(this.fillWith));} get AsChoiceView(){ return eE(cL(String, this.fillWith.View));} constructor(gc, gd){ super();this.name=gc;this.fillWith=gd;} };});
let cx=f3((ga) => class gb extends e { static { cx=ga(this);} });
function cy(ga, gb){ return{k:ga, ct:gb};}
function cz(ga){ return{$:1, $0:ga};}
function cA(ga){ return{$:0, $0:ga};}
function cB(ga){ return{$:2, $0:ga};}
function cC(ga, gb){ return{c:ga, r:gb};}
function cD(ga, gb){ return fV(ga, -2147483648, 2147483647, gb);}
function cE(ga){ return{$:6, $0:ga};}
function cF(ga){ return{$:2, $0:ga};}
function cG(ga, gb){ return{$:0, $0:ga, $1:gb};}
function cH(ga){ return{$:5, $0:ga};}
function cI(ga){ return{$:4, $0:ga};}
function cJ(ga, gb){ return cK((gc) => gc, ga, gb);}
function cK(ga, gb, gc){ const gd=[new bP("New_5")];return cL((ge) => { const gf=gd[0];const gg=new bP("New_5");const gh=d3((gi) => { const gj=ga(gi);const gk=gf.ContainsKey(gj)?gf.Item(gj):gb(gi);gg.set_Item(gj, gk);return gk;}, cf(ge));gd[0]=gg;return gh;}, gc);}
function cL(ga, gb){ return cO(() => J(ga, gb()));}
function cM(ga){ const gb={s:bN(ga)};return() => gb;}
function cN(ga, gb){ function gc(){ K(gb(), ga, () => { bi().Fork(gc);});} bi().Fork(gc);}
function cO(ga){ const gb={c:null, o:ga};return() => { let gc=gb.c;if(gc===null){ gc=gb.o();gb.c=gc;const gd=gc.s;if(gd!=null&&gd.$==0)gb.o=null;else L(gc, () => { gb.c=null;});return gc;} else return gc;};}
function cP(ga, gb){ return cU(cL(ga, gb));}
function cQ(ga, gb, gc, gd){ return cO(() => O(ga, gb(), gc(), gd()));}
function cR(ga){ return cO(() => P(b1((gb) => gb(), ga)));}
function cS(ga, gb, gc){ return cO(() => Q(ga, gb(), gc()));}
function cT(ga, gb){ return cO(() => R(ga(), gb()));}
function cU(ga){ return cO(() => W(ga()));}
function cV(){ throw new fg("New");}
function cW(ga){ return ga instanceof Array?cX(ga):r(typeof ga, "string")?cY(ga):ga.GetEnumerator();}
function cX(ga){ return new c0(0, null, (gb) => { const gc=gb.s;return gc<n(ga)&&(gb.c=k(ga, gc),gb.s=gc+1,true);}, void 0);}
function cY(ga){ return new c0(0, null, (gb) => { const gc=gb.s;return gc<ga.length&&(gb.c=ga[gc],gb.s=gc+1,true);}, void 0);}
function cZ(ga){ return ga instanceof Array?cX(ga):r(typeof ga, "string")?cY(ga):"GetEnumerator0"in ga?ga.GetEnumerator0():ga.GetEnumerator();}
let c0=f3((ga) => class gb extends e { static { c0=ga(this);} s;c;n;d;e;MoveNext(){ const gc=this.n(this);this.e=gc?1:2;return gc;} get Current(){ return this.e===1?this.c:this.e===0?g("Enumeration has not started. Call MoveNext."):g("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(gc, gd, ge, gf){ super();this.s=gc;this.c=gd;this.n=ge;this.d=gf;this.e=0;} });
let c1=f3((ga) => { f6(Error);return class gb extends Error { static { c1=ga(this);} reason;constructor(gc){ super("Promise rejected");this.reason=gc;} };});
let c2=f3((ga) => class gb { static { c2=ga(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=cC(false, []);this.scheduler=new c3();this.defCTS=[new du()];this.Zero=bj();this.GetCT=(gc) => { gc.k(cA(gc.ct));};} });
let c3=f3((ga) => class gb extends e { static { c3=ga(this);} idle;robin;Fork(gc){ this.robin.push(gc);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const gc=Date.now();let gd=true;while(gd)if(this.robin.length===0){ this.idle=true;gd=false;} else {(this.robin.shift())();Date.now()-gc>40?(setTimeout(() => { this.tick();}, 0),gd=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let c4=f3((ga) => class gb { static { c4=ga(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bP("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bP("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function c5(ga, gb){ c6(ga, gb, null);}
function c6(ga, gb, gc){ while(true){ if(gb!=null&&gb.$==1)return db(ga, gb.$0.El, gc);else if(gb!=null&&gb.$==2){ const gd=gb.$0;gd.Dirty=false;gb=gd.Current;} else if(gb==null)return gc;else if(gb!=null&&gb.$==4)return db(ga, gb.$0.Text, gc);else if(gb!=null&&gb.$==5)return db(ga, gb.$0, gc);else if(gb!=null&&gb.$==6)return ch((gg, gh) =>((((gi) =>(gj) =>(gk) => gj==null||gj.constructor===Object?c6(gi, gj, gk):db(gi, gj, gk))(ga))(gg))(gh), gb.$0.Els, gc);else { const ge=gb.$1;const gf=gb.$0;gb=gf;gc=c6(ga, ge, gc);} } }
function c7(ga, gb){ return eQ(eR(), dc(ga, ec(), gb));}
function c8(ga, gb, gc){ if(dT()){ const gd=null;return bd(() => { const ge=eS(gc);const gf=dg(gb, ge);const gg=df(gb, ge);return bk(dU(dV(gf, de(gb, ge))), () => bk(dd(ga, gb), () => bk(dU(gg), () => { gb.PreviousNodes=ge;return bj(null);})));});} else return dd(ga, gb);}
function c9(ga, gb, gc){ const gd=eS(gc);dh(ga, gb.Top);gb.PreviousNodes=gd;}
function c_(){ return{Current:null, Dirty:false};}
function c$(ga, gb){ ga.Current=gb;ga.Dirty=true;}
function da(ga, gb){ const gc=ga.parentNode;const gd=globalThis.document.createTextNode("");gc.insertBefore(gd, ga);dk(ga, gb);return gd;}
function db(ga, gb, gc){ dN(ga, gc, gb);return gb;}
function dc(ga, gb, gc){ c5(ga, gc);const gd=d8(ga, gb);return dq.New(gd, gc, null, ga, bJ(), f7(gd.OnAfterRender));}
function dd(ga, gb){ if(d0()){ const gc=(gd) => { requestAnimationFrame(() => { dh(ga, gb.Top);gd();});};return bh((gd, ge, gf) => gc.apply(null, [gd, ge, gf]));} else { dh(ga, gb.Top);return bj(null);} }
function de(ga, gb){ return dY(ci((gc) => ee(gc.Attr), eW(eV(gb, eU((gc) => ed(gc.Attr), ga.PreviousNodes)))));}
function df(ga, gb){ return dY(ci((gc) => eg(gc.Attr), eW(eV(ga.PreviousNodes, eU((gc) => ef(gc.Attr), gb)))));}
function dg(ga, gb){ const gc=(ge) => eh(ge.Attr);const gd=(ge) => eU(gc, ge);return dY(ci((ge) => ei(ge.Attr), eW(eX(gd(ga.PreviousNodes), gd(gb)))));}
function dh(ga, gb){!ga?dl(gb):void 0;dm(gb.Children);dn(gb);}
function di(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function dj(ga, gb){ ga.Value=gb;ga.Dirty=true;}
function dk(ga, gb){ c6(ga.parentNode, gb, ga);}
function dl(ga){ function gb(gc){ function gd(ge){ while(true){ if(ge!=null&&ge.$==0){ const gf=ge.$1;const gg=ge.$0;if(gd(gg))return true;else ge=gf;} else if(ge!=null&&ge.$==2){ const gh=ge.$0;if(gh.Dirty)return true;else ge=gh.Current;} else if(ge!=null&&ge.$==6){ const gi=ge.$0;return gi.Dirty||cd(gb, gi.Holes);} else return false;} } return gd(gc.Children);} el(ga.El, ga.Attr);if(gb(ga))do_1(ga);}
function dm(ga){ while(true){ if(ga!=null&&ga.$==1)return dh(false, ga.$0);else if(ga!=null&&ga.$==2){ const gb=ga.$0;ga=gb.Current;} else if(ga==null)return null;else if(ga!=null&&ga.$==5)return null;else if(ga!=null&&ga.$==4){ const gc=ga.$0;return gc.Dirty?(gc.Text.nodeValue=gc.Value,gc.Dirty=false):null;} else if(ga!=null&&ga.$==6){ const gd=ga.$0;cg((gg) => { dh(false, gg);}, gd.Holes);cg((gg) => { el(gg[0], gg[1]);}, gd.Attrs);return dn(gd);} else { const ge=ga.$1;const gf=ga.$0;dm(gf);ga=ge;} } }
function dn(ga){ const gb=f7(ga.Render);if(gb!=null&&gb.$==1){ gb.$0(ga.El);f5(ga, "Render", null);} }
function do_1(ga){ const gb=ga.El;function gc(gg, gh){ while(true){ if(gg!=null&&gg.$==1)return gg.$0.El;else if(gg!=null&&gg.$==2){ const gi=gg.$0;if(gi.Dirty){ gi.Dirty=false;return c6(gb, gi.Current, gh);} else gg=gi.Current;} else if(gg==null)return gh;else if(gg!=null&&gg.$==4)return gg.$0.Text;else if(gg!=null&&gg.$==5)return gg.$0;else if(gg!=null&&gg.$==6){ const gj=gg.$0;if(gj.Dirty)gj.Dirty=false;return ch((gm, gn) => gm==null||gm.constructor===Object?gc(gm, gn):gm, gj.Els, gh);} else { const gk=gg.$1;const gl=gg.$0;gg=gl;gh=gc(gk, gh);} } } const gd=ga.El;fP((gg) => { dO(gd, gg);}, fO(fQ(ga), fN(ga.El, f7(ga.Delimiters))));let ge=ga.Children;const gf=f7(ga.Delimiters);gc(ge, gf!=null&&gf.$==1?gf.$0[1]:null);}
let dp=f3((ga) => class gb { static { dp=ga(this);} static counter;static { this.counter=0;} });
let dq=f3((ga) => class gb { static { dq=ga(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(gc){ return this.ElKey===gc.ElKey;} GetHashCode(){ return this.ElKey;} static New(gc, gd, ge, gf, gg, gh){ const gi={Attr:gc, Children:gd, El:gf, ElKey:gg};let gj=(f5(gi, "Delimiters", ge),f5(gi, "Render", gh),gi);return f_(dq, gj);} });
function dr(ga){ return new d7(ga);}
let ds=f3((ga) => { f6(bI);return class gb extends bI { static { ds=ga(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(gc, gd){ const ge=eO.Create(gd);const gf=ci((gi) => d9(gi[1]), gc.Attrs);let gg=d5(cM(), cT, gf);let gh=cT(gg, ge.v);return new gb(cE(gc), gh, k(gc.Els, 0), ge);} constructor(gc, gd, ge, gf){ super(gc, gd);this.docNode_1=gc;this.updates_1=gd;this.elt=ge;this.rvUpdates=gf;} };});
let dt=f3((ga) => { f6(Error);return class gb extends Error { static { dt=ga(this);} ct;static New(gc){ return new this("New", gc);} static New_1(gc, gd, ge){ return new this("New_1", gc, gd, ge);} constructor(gc, gd, ge, gf){ let gg;if(gc=="New"){ gg=gd;gc="New_1";gd="The operation was canceled.";ge=null;gf=gg;} if(gc=="New_1"){ const gh=gd;const gi=ge;const gj=gf;super(gh);this.inner=gi;this.ct=gj;} } };});
let du=f3((ga) => class gb extends e { static { du=ga(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function dv(ga){ let gb=null;let gc=0;const gd=ga.textContent;const ge=new RegExp(bH(), "g");while(gb=ge.exec(gd),gb!==null){ ga.parentNode.insertBefore(globalThis.document.createTextNode(dD(gd, H(gc), H(ge.lastIndex-k(gb, 0).length-1))), ga);gc=ge.lastIndex;const gf=globalThis.document.createElement("span");gf.setAttribute("ws-replace", k(gb, 1).toLowerCase());ga.parentNode.insertBefore(gf, ga);} ge.lastIndex=0;ga.textContent=dD(gd, H(gc), null);}
function dw(ga){ console.warn("Instantiating non-loaded template", ga);}
function dx(ga, gb, gc){ const gd=ga.querySelector("[ws-replace]");return r(gd, null)?(console.warn("Filling non-existent text hole", gc),null):(gd.parentNode.replaceChild(globalThis.document.createTextNode(gb), gd),H(gd.getAttribute("ws-replace")));}
function dy(ga, gb){ const gc=(gd) => { bE(ga, "["+gd+"]", (ge) => { if(!gb.Contains(ge.getAttribute(gd)))ge.removeAttribute(gd);});};gc("ws-attr");gc("ws-onafterrender");gc("ws-var");bE(ga, "[ws-hole]", (gd) => { if(!gb.Contains(gd.getAttribute("ws-hole"))){ gd.removeAttribute("ws-hole");while(gd.hasChildNodes())gd.removeChild(gd.lastChild);} });bE(ga, "[ws-replace]", (gd) => { if(!gb.Contains(gd.getAttribute("ws-replace")))gd.parentNode.removeChild(gd);});bE(ga, "[ws-on]", (gd) => { gd.setAttribute("ws-on", eG(" ", cj((ge) => gb.Contains(k(eH(ge, [":"], 1), 1)), eH(gd.getAttribute("ws-on"), [" "], 1))));});bE(ga, "[ws-attr-holes]", (gd) => { const ge=eH(gd.getAttribute("ws-attr-holes"), [" "], 1);for(let gi=0, gj=ge.length-1;gi<=gj;gi++){ const gf=k(ge, gi);let gg=new RegExp(bH(), "g");let gh=gd.getAttribute(gf).replace(gg, (gk, gl) => gb.Contains(gl)?gk:"");gd.setAttribute(gf, gh);} });}
function dz(ga, gb){ dC(gb);const gc=gb.nodeName.toLowerCase();const gd=ga.querySelector("[ws-attr="+gc+"]");if(r(gd, null))console.warn("Filling non-existent attr hole", gc);else { gd.removeAttribute("ws-attr");for(let gf=0, gg=gb.attributes.length-1;gf<=gg;gf++){ const ge=gb.attributes.item(gf);if(ge.name=="class"&&gd.hasAttribute("class"))gd.setAttribute("class", gd.getAttribute("class")+" "+ge.nodeValue);else gd.setAttribute(ge.name, ge.nodeValue);} } }
function dA(ga, gb){ const gc=(gd) => { bE(ga, "["+gd+"]", (ge) => { let gf;const gg=(gf=null,[gb.TryGetValue(ge.getAttribute(gd).toLowerCase(), {get:() => gf, set:(gh) => { gf=gh;}}), gf]);if(gg[0])ge.setAttribute(gd, gg[1]);});};gc("ws-hole");gc("ws-replace");gc("ws-attr");gc("ws-onafterrender");gc("ws-var");bE(ga, "[ws-on]", (gd) => { gd.setAttribute("ws-on", eG(" ", ci((ge) => { let gf;const gg=eH(ge, [":"], 1);const gh=(gf=null,[gb.TryGetValue(k(gg, 1), {get:() => gf, set:(gi) => { gf=gi;}}), gf]);return gh[0]?k(gg, 0)+":"+gh[1]:ge;}, eH(gd.getAttribute("ws-on"), [" "], 1))));});bE(ga, "[ws-attr-holes]", (gd) => { const ge=eH(gd.getAttribute("ws-attr-holes"), [" "], 1);for(let gf=0, gg=ge.length-1;gf<=gg;gf++)((() => { const gh=k(ge, gf);return gd.setAttribute(gh, bY((gi, gj) => { const gk=h(gj);return gi.replace(new RegExp("\\${"+gk[0]+"}", "ig"), "${"+gk[1]+"}");}, gd.getAttribute(gh), gb));})());});}
function dB(ga, gb, gc){ while(true){ if(ga.hasChildNodes())gc=gb.insertBefore(ga.lastChild, gc);else return null;} }
function dC(ga){ const gb=ga.attributes;const gc=[];const gd=[];const ge=[];for(let gj=0, gk=gb.length-1;gj<=gk;gj++){ const gf=gb.item(gj);if(eI(gf.nodeName, "ws-on")&&gf.nodeName!="ws-onafterrender"&&gf.nodeName!="ws-on"){ gc.push(gf.nodeName);gd.push(dD(gf.nodeName, H("ws-on".length), null)+":"+gf.nodeValue.toLowerCase());} else if(!eI(gf.nodeName, "ws-")&&(new RegExp(bH())).test(gf.nodeValue)){ let gg=new RegExp(bH(), "g");let gh=gf.nodeValue.replace(gg, (gl, gm) =>"${"+gm.toLowerCase()+"}");gf.nodeValue=gh;ge.push(gf.nodeName);} else void 0;} if(!(gd.length==0))ga.setAttribute("ws-on", eG(" ", gd));if(!(ge.length==0))ga.setAttribute("ws-attr-holes", eG(" ", ge));const gi=(gl) => { const gm=ga.getAttribute(gl);if(gm==null){ } else ga.setAttribute(gl, gm.toLowerCase());};gi("ws-hole");gi("ws-replace");gi("ws-attr");gi("ws-onafterrender");gi("ws-var");cg((gl) => { ga.removeAttribute(gl);}, gc);}
function dD(ga, gb, gc){ if(gb==null){ if(gc!=null&&gc.$==1){ const gd=gc.$0;return gd<0?"":ga.slice(0, gd+1);} else return"";} else if(gc==null)return ga.slice(gb.$0);else { const ge=gc.$0;return ge<0?"":ga.slice(gb.$0, ge+1);} }
function dE(ga){ const gb=globalThis.document.createElement("div");if(!dG().test(ga)){ gb.appendChild(globalThis.document.createTextNode(ga));return gb;} else { const gc=dK().exec(ga);const gd=r(gc, null)?"":k(gc, 1).toLowerCase();const ge=(dH())[gd];const gf=ge?ge:dI();gb.innerHTML=gf[1]+ga.replace(dJ(), "<$1></$2>")+gf[2];function gg(gh, gi){ while(true){ if(gi===0)return gh;else { const gj=gi;gh=gh.lastChild;gi=gj-1;} } } return gg(gb, gf[0]);} }
function dF(ga){ const gb=[];for(let gc=0, gd=ga.childNodes.length-1;gc<=gd;gc++)gb.push(ga.childNodes[gc]);return gb;}
function dG(){ return e8.rhtml;}
function dH(){ return e8.wrapMap;}
function dI(){ return e8.defaultWrap;}
function dJ(){ return e8.rxhtmlTag;}
function dK(){ return e8.rtagName;}
function dL(ga, gb, gc){ const gd=ga.querySelectorAll(gb);for(let ge=0, gf=gd.length-1;ge<=gf;ge++)gc(gd[ge]);}
function dM(ga, gb){ const gc=globalThis.document.querySelectorAll(ga);for(let gd=0, ge=gc.length-1;gd<=ge;gd++)gb(gc[gd]);}
function dN(ga, gb, gc){ let gd;if(gc.parentNode===ga){ const ge=gc.nextSibling;let gf=r(ge, null)?null:ge;gd=gb===gf;} else gd=false;if(!gd)ga.insertBefore(gc, gb);}
function dO(ga, gb){ if(gb.parentNode===ga)ga.removeChild(gb);}
function dP(){ return g("The input sequence has an insufficient number of elements.");}
function dQ(ga, gb){ let gc=true;let gd=0;while(gc&&gd<n(gb))if(r(gb[gd], ga))gc=false;else gd=gd+1;return!gc;}
function dR(){ return g("The input must be non-negative.");}
let dS=f3((ga) => class gb extends e { static { dS=ga(this);} d;GetEnumerator(){ return cW(b1((gc) => gc.K, this.d));} constructor(gc){ super();this.d=gc;} });
function dT(){ return eY();}
function dU(ga){ const gb=null;return bd(() => bk(dW(() => { }, eZ(ga)), () => { e0(ga);return bj(null);}));}
function dV(ga, gb){ return dX(e_(ga.$0, gb.$0));}
function dW(ga, gb){ const gc=gb.Duration;if(gc===0)return bl();else { const gd=(ge) => { function gf(gg){ return(gh) => { const gi=gh-gg;gb.Compute(gi);ga();return gi<=gc?void requestAnimationFrame((gj) => {(gf(gg))(gj);}):ge();};} requestAnimationFrame((gg) => {(gf(gg))(gg);});};return bh((ge, gf, gg) => gd.apply(null, [ge, gf, gg]));} }
function dX(ga){ return{$:0, $0:ga};}
function dY(ga){ return dX(fa(b1(e2, ga)));}
function dZ(){ return dX(fb());}
function d0(){ return e6.BatchUpdatesEnabled;}
function d1(ga){ const gb=[0];function gc(){ const gd=null;return bd(() => bk(ga, () => { const ge=gb[0];return r(ge, 1)?(gb[0]=0,bl()):r(ge, 2)?(gb[0]=1,gc()):bl();}));} return() => { const gd=gb[0];if(r(gd, 0)){ gb[0]=1;be(gc(), null);} else r(gd, 1)?gb[0]=2:void 0;};}
function d2(ga, gb, gc, gd){ const ge={DynElem:ga, DynFlags:gb, DynNodes:gc};f5(ge, "OnAfterRender", gd);return ge;}
function d3(ga, gb){ for(let gc=0, gd=gb.length-1;gc<=gd;gc++)gb[gc]=ga(gb[gc]);return gb;}
function d4(ga){ if(ga instanceof Array)return ga;else if(ga instanceof eF)return ck(ga);else if(ga===null)return[];else { const gb=[];const gc=cW(ga);try { while(gc.MoveNext())gb.push(gc.Current);return gb;} finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} } }
function d5(ga, gb, gc){ const gd=n(gc);function ge(gf){ return(gg) => { let gh;switch(gg<=0?0:gg===1?gf>=0&&gf<gd?1:(gh=gg,2):(gh=gg,2)){ case 0:return ga;case 1:return k(gc, gf);case 2:const gi=gg/2>>0;return gb((ge(gf))(gi), (ge(gf+gi))(gg-gi));} };} return(ge(0))(gd);}
function d6(ga, gb, gc, gd){ const ge=n(gd);function gf(gg){ return(gh) => { let gi;switch(gh<=0?0:gh===1?gg>=0&&gg<ge?1:(gi=gh,2):(gi=gh,2)){ case 0:return gb;case 1:return ga(k(gd, gg));case 2:const gj=gh/2>>0;return gc((gf(gg))(gj), (gf(gg+gj))(gh-gj));} };} return(gf(0))(ge);}
let d7=f3((ga) => class gb extends e { static { d7=ga(this);} init;SSetAt(gc, gd, ge){ l(ge, gc, gd);return ge;} SAppend(gc, gd){ gd.push(gc);return gd;} SInit(){ return this.init;} constructor(gc){ super();this.init=gc;} });
function d8(ga, gb){ const gc=[];const gd=[];function ge(gh){ while(true){ if(!(gh===null)){ if(gh!=null&&gh.$==1)return gc.push(gh.$0);else if(gh!=null&&gh.$==2){ const gi=gh.$1;const gj=gh.$0;ge(gj);gh=gi;} else return gh!=null&&gh.$==3?gh.$0(ga):gh!=null&&gh.$==4?gd.push(gh.$0):null;} else return null;} } ge(gb);const gf=gc.slice(0);let gg=d2(ga, d$(gb), gf, gd.length===0?null:H((gh) => { b0((gi) => { gi(gh);}, gd);}));return gg;}
function d9(ga){ return d6((gb) => gb.NChanged, cM(), cT, ga.DynNodes);}
function d_(ga){ return d2(ga, 0, [], null);}
function d$(ga){ return ga!==null&&ga.hasOwnProperty("flags")?ga.flags:0;}
function ea(ga){ return eA.A3(ga);}
function eb(ga, gb){ return eA.A1(new ff(ga, gb));}
function ec(){ return fh.EmptyAttr;}
function ed(ga){ const gb=2;return(ga.DynFlags&gb)===gb;}
function ee(ga){ return ek(ga, (gb, gc) => gb.NGetExitAnim(gc));}
function ef(ga){ const gb=1;return(ga.DynFlags&gb)===gb;}
function eg(ga){ return ek(ga, (gb, gc) => gb.NGetEnterAnim(gc));}
function eh(ga){ const gb=4;return(ga.DynFlags&gb)===gb;}
function ei(ga){ return ek(ga, (gb, gc) => gb.NGetChangeAnim(gc));}
function ej(ga, gb){ if(ga===null)return gb;else if(gb===null)return ga;else { const gc=eA.A2(ga, gb);em(gc, d$(ga)|d$(gb));return gc;} }
function ek(ga, gb){ return dY(ci((gc) => gb(gc, ga.DynElem), ga.DynNodes));}
function el(ga, gb){ cg((gc) => { gc.NSync(ga);}, gb.DynNodes);}
function em(ga, gb){ ga.flags=gb;}
let en=f3((ga) => { f6(q);return class gb extends q { static { en=ga(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let eo=f3((ga) => { f6(q);return class gb extends q { static { eo=ga(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function ep(ga, gb){ return ea((gc) => { gc.addEventListener(ga, (gd) =>(gb(gc))(gd), false);});}
function eq(ga){ return eA.A4(ga);}
function er(ga, gb){ return eb(gb, (gc) =>(gd) => gc.setAttribute(ga, gd));}
function es(ga){ return ey(fF(), ga);}
function et(ga){ return ey(fG(), ga);}
function eu(ga){ return ey(fH(), ga);}
function ev(ga){ return ey(fI(), ga);}
function ew(ga){ return ey(fJ(), ga);}
function ex(ga){ return ey(fK(), ga);}
function ey(ga, gb){ const gc=ga(gb);return eA.Append(ea(gc[0]), ez(gc[1], gc[2]));}
function ez(ga, gb){ return eb(gb, ga);}
let eA=f3((ga) => class gb { static { eA=ga(this);} static Handler(gc, gd){ return eA.HandlerImpl(gc, gd);} static Concat(gc){ const gd=d4(gc);return d5(ec(), eA.Append, gd);} static Create(gc, gd){ return ea((ge) => { ge.setAttribute(gc, gd);});} static HandlerImpl(gc, gd){ return ea((ge) => { ge.addEventListener(gc, (gf) =>(gd(ge))(gf), false);});} static Append(gc, gd){ return ej(gc, gd);} static A4(gc){ return f_(gb, {$:4, $0:gc});} static A3(gc){ return f_(gb, {$:3, $0:gc});} static A1(gc){ return f_(gb, {$:1, $0:gc});} static A2(gc, gd){ return f_(gb, {$:2, $0:gc, $1:gd});} });
let eB=f3((ga) => { f6(q);return class gb extends q { static { eB=ga(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let eC=f3((ga) => { f6(q);return class gb extends q { static { eC=ga(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function eD(ga){ return{$:0, $0:ga};}
function eE(ga){ return{$:1, $0:ga};}
let eF=f3((ga) => class gb { static { eF=ga(this);} static Cons(gc, gd){ return f_(gb, {$:1, $0:gc, $1:gd});} static Empty=f_(eF, {$:0});GetEnumerator(){ return new c0(this, null, (gc) => { const gd=gc.s;return gd.$==0?false:(gc.c=gd.$0,gc.s=gd.$1,true);}, void 0);} });
function eG(ga, gb){ return cf(gb).join(ga);}
function eH(ga, gb, gc){ return eJ(ga, new RegExp("["+eK(gb.join(""))+"]"), gc);}
function eI(ga, gb){ return ga.substring(0, gb.length)==gb;}
function eJ(ga, gb, gc){ return gc===1?cj((gd) => gd!=="", eL(ga, gb)):eL(ga, gb);}
function eK(ga){ return ga.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eL(ga, gb){ return ga.split(gb);}
function eM(ga, gb){ return b_(ga, eN(gb));}
function eN(ga){ return ga==null?"":ga;}
let eO=f3((ga) => class gb { static { eO=ga(this);} c;s;v;static Create(gc){ let gd;gd=null;gd=eO.New(gc, null, () => { let ge;ge=gd.s;return ge===null?(ge=S(gd.c()),gd.s=ge,L(ge, () => { gd.s=null;}),ge):ge;});return gd;} static New(gc, gd, ge){ return f_(eO, {c:gc, s:gd, v:ge});} });
let eP=f3((ga) => class gb extends e { static { eP=ga(this);} d;GetEnumerator(){ return cW(b1((gc) => gc.V, this.d));} constructor(gc){ super();this.d=gc;} });
function eQ(ga, gb){ return{PreviousNodes:ga, Top:gb};}
function eR(){ return eT(new bV("New_3"));}
function eS(ga){ const gb=[];function gc(gf, gg){ while(true)switch(gf){ case 0:if(gg!=null&&gg.$==0){ const gh=gg.$1;const gi=gg.$0;gc(0, gi);gg=gh;} else if(gg!=null&&gg.$==1){ const gj=gg.$0;gg=gj;gf=1;} else if(gg!=null&&gg.$==2){ const gk=gg.$0;gg=gk.Current;} else if(gg!=null&&gg.$==6){ const gl=gg.$0.Holes;return(((gm) =>(gn) => { cg(gm, gn);})(ge))(gl);} else return null;break;case 1:gb.push(gg);gg=gg.Children;gf=0;break;} } function gd(gf){ return gc(0, gf);} function ge(gf){ return gc(1, gf);} gd(ga);return eT(new bV("New_2", gb));}
function eT(ga){ return{$:0, $0:ga};}
function eU(ga, gb){ return eT(fj(ga, gb.$0));}
function eV(ga, gb){ return eT(fk(ga.$0, gb.$0));}
function eW(ga){ return fl(ga.$0);}
function eX(ga, gb){ return eT(fm(ga.$0, gb.$0));}
function eY(){ return e9.UseAnimations;}
function eZ(ga){ return e1(ca((gb) => gb.$==1?H(gb.$0):null, e$(ga.$0)));}
function e0(ga){ cg((gb) => { if(gb.$==0)gb.$0();}, e$(ga.$0));}
function e1(ga){ const gb=d4(ga);const gc=n(gb);if(gc===0)return e3();else if(gc===1)return k(gb, 0);else { const gd=b4(b1((gf) => gf.Duration, gb));const ge=ci((gf) => e5(gd, gf), gb);return e4(gd, (gf) => { cg((gg) => { gg.Compute(gf);}, ge);});} }
function e2(ga){ return ga.$0;}
function e3(ga){ return e4(0, () => ga);}
function e4(ga, gb){ return{Compute:gb, Duration:ga};}
function e5(ga, gb){ const gc=gb.Compute;const gd=gb.Duration;const ge=fW(() => gb.Compute(gb.Duration));return{Compute:(gf) => gf>=gd?ge.f():gc(gf), Duration:ga};}
let e6=f3((ga) => class gb { static { e6=ga(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function e7(ga){ let gb=[];let gc;for(var gd in ga)gb.push.apply(gb, ga[gd]);return gb;}
let e8=f3((ga) => class gb { static { e8=ga(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const gc=[1, "<table>", "</table>"];let gd=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", gc], ["tbody", gc], ["tfoot", gc], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=gd;this.defaultWrap=[0, "", ""];} });
let e9=f3((ga) => class gb { static { e9=ga(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=fi.Custom((gc) => { const gd=gc*gc;return 3*gd-2*(gd*gc);});this.UseAnimations=true;} });
function e_(ga, gb){ return ga.$==0?gb:gb.$==0?ga:{$:2, $0:ga, $1:gb};}
function e$(ga){ const gb=[];function gc(gd){ while(true){ if(gd.$==1)return gb.push(gd.$0);else if(gd.$==2){ const ge=gd.$1;const gf=gd.$0;gc(gf);gd=ge;} else return gd.$==3?cg((gg) => { gb.push(gg);}, gd.$0):null;} } gc(ga);return gb.slice(0);}
function fa(ga){ const gb=d4(ga);return d5(fb(), e_, gb);}
function fb(){ return fZ.Empty;}
function fc(ga){ return ga.$==1?ga.$0:fe();}
function fd(ga){ return ga.$==1?ga.$1:fe();}
function fe(){ return g("The input list was empty.");}
let ff=f3((ga) => class gb extends e { static { ff=ga(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(gc){ return dZ();} NGetEnterAnim(gc){ return dZ();} NGetChangeAnim(gc){ return dZ();} NSync(gc){ if(this.dirty){(this.push(gc))(this.value);this.dirty=false;} } constructor(gc, gd){ super();this.push=gd;this.value=void 0;this.dirty=false;this.updates=cL((ge) => { this.value=ge;this.dirty=true;}, gc);} });
let fg=f3((ga) => { f6(Error);return class gb extends Error { static { fg=ga(this);} static New(){ return new this("New");} static New_1(gc){ return new this("New_1", gc);} constructor(gc, gd){ if(gc=="New"){ gc="New_1";gd="The given key was not present in the dictionary.";} if(gc=="New_1"){ const ge=gd;super(ge);} } };});
let fh=f3((ga) => class gb { static { fh=ga(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gs) =>[(gt) => { gt.addEventListener("change", () => gs.Get()!=gt.checked?gs.Set(gt.checked):null);}, (gt) =>(gu) => gu!=null&&gu.$==1?void(gt.checked=gu.$0):null, cL(H, gs.View)];this.StringSet=(gs) =>(gt) => { gs.value=gt;};this.StringGet=(gs) => H(gs.value);const gc=fp();const gd=fo();this.StringApply=(gs) => fn(gc, gd, gs);this.StringListSet=(gs) =>(gt) => { const gu=gs.options;for(let gv=0, gw=gu.length-1;gv<=gw;gv++)((() => { const gx=gu.item(gv);gx.selected=dQ(gx.value, gt);})());};this.StringListGet=(gs) => { const gt=gs.selectedOptions;return H(cf(b2(() => b3((gu) =>[gt.item(gu).value], i(0, gt.length-1)))));};const ge=fr();const gf=fq();this.StringListApply=(gs) => fn(ge, gf, gs);this.DateTimeSetUnchecked=(gs) =>(gt) => { gs.value=(new Date(gt)).toLocaleString();};this.DateTimeGetUnchecked=(gs) => { let gt;let gu;const gv=gs.value;if(fL(gv))return H(-8640000000000000);else { gt=0;const gw=fU(gv);let gx=gw!=null&&gw.$==1&&(gt=gw.$0,true);gu=[gx, gt];return gu[0]?H(gu[1]):null;} };const gg=ft();const gh=fs();this.DateTimeApplyUnchecked=(gs) => fn(gg, gh, gs);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gs) => { const gt=gs.files;return H(cf(b2(() => b1((gu) => gt.item(gu), i(0, gt.length-1)))));};const gi=fw();const gj=fv();this.FileApplyUnchecked=(gs) => fu(gi, gj, gs);this.IntSetUnchecked=(gs) =>(gt) => { gs.value=String(gt);};this.IntGetUnchecked=(gs) => { const gt=gs.value;if(fL(gt))return H(0);else { const gu=+gt;return gu!==gu>>0?null:H(gu);} };const gk=fy();const gl=fx();this.IntApplyUnchecked=(gs) => fn(gk, gl, gs);this.IntSetChecked=(gs) =>(gt) => { const gu=gt.Input;return gs.value!=gu?void(gs.value=gu):null;};this.IntGetChecked=(gs) => { let gt;let gu;const gv=gs.value;if(fL(gv))gt=(gs.checkValidity?gs.checkValidity():true)?fM.Blank(gv):fM.Invalid(gv);else { const gw=(gu=0,[cD(gv, {get:() => gu, set:(gx) => { gu=gx;}}), gu]);gt=gw[0]?fM.Valid(gw[1], gv):fM.Invalid(gv);} return H(gt);};const gm=fA();const gn=fz();this.IntApplyChecked=(gs) => fn(gm, gn, gs);this.FloatSetUnchecked=(gs) =>(gt) => { gs.value=String(gt);};this.FloatGetUnchecked=(gs) => { const gt=gs.value;if(fL(gt))return H(0);else { const gu=+gt;return isNaN(gu)?null:H(gu);} };const go=fC();const gp=fB();this.FloatApplyUnchecked=(gs) => fn(go, gp, gs);this.FloatSetChecked=(gs) =>(gt) => { const gu=gt.Input;return gs.value!=gu?void(gs.value=gu):null;};this.FloatGetChecked=(gs) => { let gt;const gu=gs.value;if(fL(gu))gt=(gs.checkValidity?gs.checkValidity():true)?fM.Blank(gu):fM.Invalid(gu);else { const gv=+gu;gt=isNaN(gv)?fM.Invalid(gu):fM.Valid(gv, gu);} return H(gt);};const gq=fE();const gr=fD();this.FloatApplyChecked=(gs) => fn(gq, gr, gs);} });
let fi=f3((ga) => class gb extends e { static { fi=ga(this);} transformTime;static Custom(gc){ return new gb(gc);} constructor(gc){ super();this.transformTime=gc;} });
function fj(ga, gb){ return new bV("New_2", cj(ga, fl(gb)));}
function fk(ga, gb){ const gc=new bV("New_2", fl(gb));gc.ExceptWith(fl(ga));return gc;}
function fl(ga){ const gb=cn(ga.Count, void 0);ga.CopyTo(gb, 0);return gb;}
function fm(ga, gb){ const gc=new bV("New_2", fl(ga));gc.IntersectWith(fl(gb));return gc;}
function fn(ga, gb, gc){ let gd;gd=null;return[(ge) => { const gf=() => { gc.UpdateMaybe((gg) => { let gh;gd=ga(ge);return gd!=null&&gd.$==1&&(!r(gd.$0, gg)&&(gh=[gd, gd.$0],true))?gh[0]:null;});};ge.addEventListener("change", gf);ge.addEventListener("input", gf);ge.addEventListener("keypress", gf);}, (ge) => { const gf=gb(ge);return(gg) => gg==null?null:gf(gg.$0);}, cL((ge) => { let gf;return gd!=null&&gd.$==1&&(r(gd.$0, ge)&&(gf=gd.$0,true))?null:H(ge);}, gc.View)];}
function fo(){ return fh.StringSet;}
function fp(){ return fh.StringGet;}
function fq(){ return fh.StringListSet;}
function fr(){ return fh.StringListGet;}
function fs(){ return fh.DateTimeSetUnchecked;}
function ft(){ return fh.DateTimeGetUnchecked;}
function fu(ga, gb, gc){ let gd;gd=null;return[(ge) => { ge.addEventListener("change", () => { gc.UpdateMaybe((gf) => { let gg;gd=ga(ge);return gd!=null&&gd.$==1&&(gd.$0!==gf&&(gg=[gd, gd.$0],true))?gg[0]:null;});});}, (ge) => { const gf=gb(ge);return(gg) => gg==null?null:gf(gg.$0);}, cL((ge) => { let gf;return gd!=null&&gd.$==1&&(r(gd.$0, ge)&&(gf=gd.$0,true))?null:H(ge);}, gc.View)];}
function fv(){ return fh.FileSetUnchecked;}
function fw(){ return fh.FileGetUnchecked;}
function fx(){ return fh.IntSetUnchecked;}
function fy(){ return fh.IntGetUnchecked;}
function fz(){ return fh.IntSetChecked;}
function fA(){ return fh.IntGetChecked;}
function fB(){ return fh.FloatSetUnchecked;}
function fC(){ return fh.FloatGetUnchecked;}
function fD(){ return fh.FloatSetChecked;}
function fE(){ return fh.FloatGetChecked;}
function fF(){ return fh.StringApply;}
function fG(){ return fh.FloatApplyUnchecked;}
function fH(){ return fh.BoolCheckedApply;}
function fI(){ return fh.DateTimeApplyUnchecked;}
function fJ(){ return fh.FileApplyUnchecked;}
function fK(){ return fh.StringListApply;}
function fL(ga){ return eM(fT, ga);}
let fM=f3((ga) => class gb { static { fM=ga(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(gc){ return f_(gb, {$:2, $0:gc});} static Invalid(gc){ return f_(gb, {$:1, $0:gc});} static Valid(gc, gd){ return f_(gb, {$:0, $0:gc, $1:gd});} });
function fN(ga, gb){ let gc;if(gb!=null&&gb.$==1){ const gd=[];gc=gb.$0[0].nextSibling;while(gc!==gb.$0[1]){ gd.push(gc);gc=gc.nextSibling;} return fR(gd);} else { let ge=ga.childNodes.length;const gf=ga.childNodes;let gg=co(ge, (gh) => gf[gh]);return fR(gg);} }
function fO(ga, gb){ const gc=ga.$0;return fR(cj((gd) => cm((ge) =>!(gd===ge), gc), gb.$0));}
function fP(ga, gb){ cg(ga, gb.$0);}
function fQ(ga){ const gb=[];function gc(gd){ while(true){ if(gd!=null&&gd.$==2){ const ge=gd.$0;gd=ge.Current;} else if(gd!=null&&gd.$==1)return gb.push(gd.$0.El);else if(gd==null)return null;else if(gd!=null&&gd.$==5)return gb.push(gd.$0);else if(gd!=null&&gd.$==4)return gb.push(gd.$0.Text);else if(gd!=null&&gd.$==6){ const gf=gd.$0.Els;return(((gi) =>(gj) => { cg(gi, gj);})((gi) => { if(gi==null||gi.constructor===Object)gc(gi);else gb.push(gi);}))(gf);} else { const gg=gd.$1;const gh=gd.$0;gc(gh);gd=gg;} } } gc(ga.Children);return fR(d4(gb));}
function fR(ga){ return{$:0, $0:ga};}
function fS(ga){ ga.splice(0, n(ga));}
function fT(ga){ return ga.match(new RegExp("\\s"))!==null;}
function fU(ga){ const gb=Date.parse(ga);return isNaN(gb)?null:H(gb);}
function fV(ga, gb, gc, gd){ const ge=+ga;const gf=ge===ge-ge%1&&ge>=gb&&ge<=gc;if(gf)gd.set(ge);return gf;}
function fW(ga){ return f0(false, ga, fX);}
function fX(){ const ga=this.v();this.c=true;this.v=ga;this.f=fY;return ga;}
function fY(){ return this.v;}
let fZ=f3((ga) => class gb { static { fZ=ga(this);} static Empty;static { this.Empty={$:0};} });
function f0(ga, gb, gc){ return{c:ga, v:gb, f:gc};}
f$(() => { b();});
f1();

