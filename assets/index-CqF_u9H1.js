var ur=Object.defineProperty;var cr=(t,e,n)=>e in t?ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>cr(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function le(t,e){return Object.assign(Object.create(t.prototype),e)}const ar=Symbol("force");function ue(t){var e;function n(){return e||(e=t(s=>e=s)),e}return new Proxy(Function(),{get(s,i){return i==ar&&n(),n()[i]},set(s,i,l){return n()[i]=l,!0},construct(s,i,l){return Reflect.construct(n(),i,l)}})}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];t[r]===void 0&&delete t[r]}return t}function Be(t){return t===void 0?null:{$:1,$0:t}}function ze(t,e,n){n?t[e]=n.$0:delete t[e]}function hr(t){return function(...e){return t(e)}}function fr(t){return Object.defineProperty(t,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),t}let ot=[];function pr(t){ot.push(t)}function gr(){for(var t=0;t<ot.length;t++)ot[t]();ot=[]}const wr="modulepreload",mr=function(t){return"/"+t},zt={},br=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(o=>{if(o=mr(o),o in zt)return;zt[o]=!0;const a=o.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":wr,a||(p.as="script"),p.crossOrigin="",p.href=o,l&&p.setAttribute("nonce",l),document.head.appendChild(p),a)return new Promise((b,g)=>{p.addEventListener("load",b),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const yr=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(i,l)=>{n.platforms.set(i,l)},s=i=>{n.platforms.has(i)&&(n.currentPlatform=n.platforms.get(i))};return n.addPlatform=r,n.setPlatform=s,n},vr=t=>t.CapacitorPlatforms=yr(t),pn=vr(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});pn.addPlatform;pn.setPlatform;var $e;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})($e||($e={}));class At extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Cr=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Ar=t=>{var e,n,r,s,i;const l=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},a=o.Plugins=o.Plugins||{},d=t.CapacitorPlatforms,p=()=>l!==null?l.name:Cr(t),b=((e=d==null?void 0:d.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||p,g=()=>b()!=="web",v=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||g,k=m=>{const C=h.get(m);return!!(C!=null&&C.platforms.has(b())||x(m))},F=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||k,O=m=>{var C;return(C=o.PluginHeaders)===null||C===void 0?void 0:C.find(P=>P.name===m)},x=((s=d==null?void 0:d.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||O,T=m=>t.console.error(m),c=(m,C,P)=>Promise.reject(`${P} does not have an implementation of "${C}".`),h=new Map,f=(m,C={})=>{const P=h.get(m);if(P)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),P.proxy;const $=b(),S=x(m);let E;const I=async()=>(!E&&$ in C?E=typeof C[$]=="function"?E=await C[$]():E=C[$]:l!==null&&!E&&"web"in C&&(E=typeof C.web=="function"?E=await C.web():E=C.web),E),Y=(R,q)=>{var H,te;if(S){const oe=S==null?void 0:S.methods.find(_=>q===_.name);if(oe)return oe.rtype==="promise"?_=>o.nativePromise(m,q.toString(),_):(_,de)=>o.nativeCallback(m,q.toString(),_,de);if(R)return(H=R[q])===null||H===void 0?void 0:H.bind(R)}else{if(R)return(te=R[q])===null||te===void 0?void 0:te.bind(R);throw new At(`"${m}" plugin is not implemented on ${$}`,$e.Unimplemented)}},W=R=>{let q;const H=(...te)=>{const oe=I().then(_=>{const de=Y(_,R);if(de){const ge=de(...te);return q=ge==null?void 0:ge.remove,ge}else throw new At(`"${m}.${R}()" is not implemented on ${$}`,$e.Unimplemented)});return R==="addListener"&&(oe.remove=async()=>q()),oe};return H.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:R,writable:!1,configurable:!1}),H},z=W("addListener"),ee=W("removeListener"),fe=(R,q)=>{const H=z({eventName:R},q),te=async()=>{const _=await H;ee({eventName:R,callbackId:_},q)},oe=new Promise(_=>H.then(()=>_({remove:te})));return oe.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await te()},oe},pe=new Proxy({},{get(R,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return S?fe:z;case"removeListener":return ee;default:return W(q)}}});return a[m]=pe,h.set(m,{name:m,proxy:pe,platforms:new Set([...Object.keys(C),...S?[$]:[]])}),pe},w=((i=d==null?void 0:d.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||f;return o.convertFileSrc||(o.convertFileSrc=m=>m),o.getPlatform=b,o.handleError=T,o.isNativePlatform=v,o.isPluginAvailable=F,o.pluginMethodNoop=c,o.registerPlugin=w,o.Exception=At,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},Nr=t=>t.Capacitor=Ar(t),lt=Nr(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pt=lt.registerPlugin;lt.Plugins;class gn{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,n);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new lt.Exception(e,$e.Unimplemented)}unavailable(e="not available"){return new lt.Exception(e,$e.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const _t=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Jt=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class xr extends gn{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Jt(s).trim(),i=Jt(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=_t(e.key),r=_t(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${l};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Pt("CapacitorCookies",{web:()=>new xr});const Er=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),$r=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,l)=>(s[i]=t[e[l]],s),{})},kr=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,l]=s;let o,a;return Array.isArray(l)?(a="",l.forEach(d=>{o=e?encodeURIComponent(d):d,a+=`${i}=${o}&`}),a.slice(0,-1)):(o=e?encodeURIComponent(l):l,a=`${i}=${o}`),`${r}&${a}`},"").substr(1):null,Tr=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=$r(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[l,o]of Object.entries(t.data||{}))i.set(l,o);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,a)=>{i.append(a,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);n.body=i;const l=new Headers(n.headers);l.delete("content-type"),n.headers=l}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Sr extends gn{async request(e){const n=Tr(e,e.webFetchExtra),r=kr(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),l=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};l.includes("application/json")&&(o="json");let a,d;switch(o){case"arraybuffer":case"blob":d=await i.blob(),a=await Er(d);break;case"json":a=await i.json();break;case"document":case"text":default:a=await i.text()}const p={};return i.headers.forEach((b,g)=>{p[g]=b}),{data:a,headers:p,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Pt("CapacitorHttp",{web:()=>new Sr});const Pr=Pt("TextToSpeech",{web:()=>br(()=>import("./web-CBuRmgvi.js"),[]).then(t=>new t.TextToSpeechWeb)});function se(t){return"Dispose"in t}function Lr(){const t=ce.Create_1(""),e=U.Convert(b=>{const g=new Yt("New_1"),v=(g.h.push(new Nn("name",b)),g),k=nn(v.k,v.h,[]),F=new Qt(k[1],Ir(k[0]));return(v.i=F,F).Doc},Zt().v),n=new Yt("New_1"),r=(n.h.push(new Cn("listcontainer",e)),n),s=(r.h.push(new vn("name",t)),r),i=(s.h.push(tn(s.k,"add",()=>s.i,()=>{Zt().Append(t.Get()),t.Set("")})),s),l=(i.h.push(tn(i.k,"texttospeech",()=>i.i,()=>{En(wt(()=>cs(Vr().then(()=>(b=>b("Speak Started"))(b=>{console.log(b)})))))})),i),o=nn(l.k,l.h,[["name",0,null]]),a=new Qt(o[1],Rr(o[0])),p=(l.i=a,a).Doc;Dt(""),U.RunById("main",p)}function Zt(){return An.People}function Vr(){return new Promise(t=>{let e;t(Pr.speak((e={},e.text="This is a sample text.",e.lang="en-US",e.rate=1,e.pitch=1,e.volume=1,e.category="ambient",e)).then(()=>Promise.resolve(null)))})}class j{Equals(e){return this===e}GetHashCode(){return-1}}let ce=ue(t=>{var e;return e=class extends j{static Create_1(r){return new qr(!1,{s:yt(r,[])},r)}},ce=t(e),e});function B(t){throw new Error(t)}function xe(t){return[t.K,t.V]}function Xt(t,e){const n=1+e-t;return n<=0?[]:Ls(n,r=>r+t)}class Qt extends j{constructor(n,r){super();u(this,"doc");u(this,"allVars");u(this,"anchorRoot");this.doc=r,this.allVars=n.$==0?n.$0:B("Should not happen"),this.anchorRoot=null}get Doc(){return this.doc}SetAnchorRoot(n){this.anchorRoot=n}}function N(t,e){return wn(t,e),t[e]}function Lt(t,e,n){wn(t,e),t[e]=n}function wn(t,e){(e<0||e>=t.length)&&B("Index was outside the bounds of the array.")}function G(t){return t.dims===2?t.length*t.length:t.length}class Yt extends j{constructor(n){var e=(...xl)=>(super(...xl),u(this,"i"),u(this,"k"),u(this,"h"),u(this,"s"),this);if(n=="New_1"){let r;e(),this.i=null,this.k=(r=ss(),String(r)),this.h=fr([]),ze(this,"s",null)}}}class Dr extends j{constructor(n,r,s,i){var e=(...El)=>(super(...El),u(this,"key"),u(this,"u0076ar"),u(this,"storage"),u(this,"v"),u(this,"it"),this);let l,o;if(n=="New"&&(l=r,o=s,n="New_3",r=l,s=ce.Create_1(me($s(l,o.SInit()))),i=o),n=="New_3"){const a=r,d=s,p=i;e(),this.key=a,this.u0076ar=d,this.storage=p,this.v=L(b=>b.slice(),this.u0076ar.View),this.it=new X("New_5")}}Append(n){const r=this.u0076ar.Get(),s=this.key(n),i=Ft(l=>A(this.key(l),s),r);i!=null&&i.$==1?this.u0076ar.Set(this.storage.SSetAt(i.$0,n,r)):this.u0076ar.Set(this.storage.SAppend(n,r)),this.ObsoleteKey(s)}ObsoleteKey(n){let r;const s=(r=null,[this.it.TryGetValue(n,{get:()=>r,set:i=>{r=i}}),r]);s[0]&&(Te(s[1]),this.it.RemoveKey(n))}GetEnumerator(){return V(this.u0076ar.Get())}GetEnumerator0(){return Rn(this.u0076ar.Get())}}class J extends j{ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(e,n){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),Mt("")}}function A(t,e){if(t===e)return!0;{const s=typeof t;if(s=="object"){if(t==null||e===null||e===void 0||!A(typeof e,"object"))return!1;if("Equals"in t)return t.Equals(e);if("Equals"in e)return!1;if(t instanceof Array&&e instanceof Array)return en(t,e);if(t instanceof Date&&e instanceof Date)return Gr(t,e);{const i=t,l=e,o=[!0];for(var n in i)if((a=>(o[0]=!i.hasOwnProperty(a)||l.hasOwnProperty(a)&&A(i[a],l[a]),!o[0]))(n))break;if(o[0]){for(var r in l)if((a=>(o[0]=!l.hasOwnProperty(a)||i.hasOwnProperty(a),!o[0]))(r))break}return o[0]}}else return s=="function"&&("$Func"in t?t.$Func===e.$Func&&t.$Target===e.$Target:"$Invokes"in t&&"$Invokes"in e&&en(t.$Invokes,e.$Invokes))}}function en(t,e){let n,r;if(G(t)===G(e)){for(n=!0,r=0;n&&r<G(t);)A(N(t,r),N(e,r))||(n=!1),r=r+1;return n}else return!1}function Gr(t,e){return t.getTime()===e.getTime()}function _e(t){const e=typeof t;return e=="function"?0:e=="boolean"?t?1:0:e=="number"?t:e=="string"?mn(t):e=="object"?t==null?0:t instanceof Array?Fr(t):Wr(t):0}function mn(t){let e;if(t===null)return 0;e=5381;for(let n=0,r=t.length-1;n<=r;n++)e=ut(e,t[n].charCodeAt());return e}function Fr(t){let e=-34948909;for(let n=0,r=G(t)-1;n<=r;n++)e=ut(e,_e(N(t,n)));return e}function Wr(t){if("GetHashCode"in t)return t.GetHashCode();{const n=[0];for(var e in t)(r=>(n[0]=ut(ut(n[0],mn(r)),_e(t[r])),!1))(e);return n[0]}}function ut(t,e){return(t<<5)+t+e}function pt(t,e){if(t===e)return 0;{const s=typeof t;switch(s=="function"?1:s=="boolean"||s=="number"||s=="string"?2:s=="object"?3:0){case 0:return typeof e>"u"?0:-1;case 1:return B("Cannot compare function values.");case 2:return t<e?-1:1;case 3:if(t===null)return-1;if(e===null)return 1;if("CompareTo"in t)return t.CompareTo(e);if("CompareTo0"in t)return t.CompareTo0(e);if(t instanceof Array&&e instanceof Array)return Ur(t,e);if(t instanceof Date&&e instanceof Date)return Or(t,e);{const i=t,l=e,o=[0];for(var n in i)if((a=>i.hasOwnProperty(a)?l.hasOwnProperty(a)?(o[0]=pt(i[a],l[a]),o[0]!==0):(o[0]=1,!0):!1)(n))break;if(o[0]===0){for(var r in l)if((a=>l.hasOwnProperty(a)?!i.hasOwnProperty(a)&&(o[0]=-1,!0):!1)(r))break}return o[0]}}}}function Ur(t,e){let n,r;if(G(t)<G(e))return-1;if(G(t)>G(e))return 1;for(n=0,r=0;n===0&&r<G(t);)n=pt(N(t,r),N(e,r)),r=r+1;return n}function Or(t,e){return pt(t.getTime(),e.getTime())}function Ir(t){let e=y("listitem");return Dt("index"),t?$n("index",e,t):void 0}function Rr(t){let e=y("main");return Dt("index"),t?$n("index",e,t):void 0}function tn(t,e,n,r){return new xn(e,s=>i=>{const l=n();return l.SetAnchorRoot(s),r({Vars:l,Anchors:l,Target:s,Event:i})})}function nn(t,e,n){const r=new X("New_5"),s=new ie("New_3"),i=V(e);try{for(;i.MoveNext();){const l=i.Current,o=l.Name;s.SAdd(o),r.set_Item(o,l)}}finally{const l=i;typeof l=="object"&&se(l)&&i.Dispose()}return[Tn(e,Gt(l=>{const o=l[0],a=l[1],d=l[2];if(s.Contains(o))return null;{const p=a===0?Z.GetOrAddHoleFor(t,o,()=>{const b=d==null?null:y(d.$0);let g=b==null?"":b.$0,v=ce.Create_1(g);return new vn(o,v)}):a===1?Z.GetOrAddHoleFor(t,o,()=>{const b=d==null?null:y(d.$0);let g=b==null?0:b.$0,v=ce.Create_1(g);return new js(o,v)}):a===2?Z.GetOrAddHoleFor(t,o,()=>{const b=d==null?null:y(d.$0);let g=b==null?!1:b.$0,v=ce.Create_1(g);return new qs(o,v)}):a===3?Z.GetOrAddHoleFor(t,o,()=>{const b=d==null?null:y(d.$0);let g=b==null?-864e13:b.$0,v=ce.Create_1(g);return new Ms(o,v)}):a===4?Z.GetOrAddHoleFor(t,o,()=>new Hs(o,ce.Create_1([]))):a===5?Z.GetOrAddHoleFor(t,o,()=>new Dn(o,ce.Create_1(y(globalThis.document.querySelector("[ws-dom="+o+"]"))))):a===6?Z.GetOrAddHoleFor(t,o,()=>{const b=d==null?null:y(d.$0);let g=b==null?[]:b.$0,v=ce.Create_1(g);return new Bs(o,v)}):B("Invalid value type");return r.set_Item(o,p),y(p)}},n)),{$:0,$0:r}]}class jr extends j{}function y(t){return{$:1,$0:t}}class qr extends jr{constructor(n,r,s){super();u(this,"isConst");u(this,"current");u(this,"snap");u(this,"view");u(this,"id");this.isConst=n,this.current=s,this.snap=r,this.view=()=>this.snap,this.id=He()}Get(){return this.current}Set(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(Te(this.snap),this.current=n,this.snap={s:yt(n,[])})}SetFinal(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(Te(this.snap),this.isConst=!0,this.current=n,this.snap={s:be(n)})}get View(){return this.view}UpdateMaybe(n){const r=n(this.Get());r!=null&&r.$==1&&this.Set(r.$0)}}function Ve(t,e){const n=e.s;if(n!=null&&n.$==0)return{s:be(t(n.$0))};{const r={s:Ae([],[])};return re(e,s=>{yn(r,e,t(s))},r),r}}function Mr(t,e,n){const r=t.s;if(r==null)n();else if(r!=null&&r.$==2){const s=r.$0;r.$1.push(n),e(s)}else if(r!=null&&r.$==3){const s=r.$1;r.$0.push(e),s.push(n)}else e(r.$0)}function bn(t,e){const n=t.s;n==null?e():n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,n.$1.push(e)):n.$0}function re(t,e,n){const r=t.s;if(r==null)Te(n);else if(r!=null&&r.$==2){const s=r.$0;ct(r.$1,n),e(s)}else if(r!=null&&r.$==3){const s=r.$1;r.$0.push(e),ct(s,n)}else e(r.$0)}function yn(t,e,n){const r=e.s;r!=null&&r.$==0?De(t,n):Ge(t,n)}function Hr(t,e,n,r){const s=e.s,i=n.s,l=r.s;if(s!=null&&s.$==0)return i!=null&&i.$==0?l!=null&&l.$==0?{s:be(t(s.$0,i.$0,l.$0))}:Jr(t,s.$0,i.$0,r):l!=null&&l.$==0?Zr(t,s.$0,l.$0,n):Xr(t,s.$0,n,r);if(i!=null&&i.$==0)return l!=null&&l.$==0?Qr(t,i.$0,l.$0,e):Yr(t,i.$0,e,r);if(l!=null&&l.$==0)return es(t,l.$0,e,n);{const o={s:Ae([],[])},a=()=>{const d=o.s;if(!(d!=null&&d.$==0||d!=null&&d.$==2)){const p=Ce(e),b=Ce(n),g=Ce(r);p!=null&&p.$==1&&b!=null&&b.$==1&&g!=null&&g.$==1&&(p.$0[1]&&b.$0[1]&&g.$0[1]?De(o,t(p.$0[0],b.$0[0],g.$0[0])):Ge(o,t(p.$0[0],b.$0[0],g.$0[0])))}};return re(e,a,o),re(n,a,o),re(r,a,o),o}}function Kr(t){const e=me(t);if(e.length==0)return{s:be([])};{const n={s:Ae([],[])},r=[G(e)-1],s=()=>{if(r[0]===0){const i=ye(l=>{const o=l.s;return o!=null&&o.$==0||o!=null&&o.$==2?o.$0:B("value not found by View.Sequence")},e);Vn(l=>{const o=l.s;return o!=null&&o.$==0},e)?De(n,i):Ge(n,i)}else r[0]=r[0]-1};return Q(i=>{re(i,s,n)},e),n}}function gt(t,e,n){const r=e.s,s=n.s;if(r!=null&&r.$==0)return s!=null&&s.$==0?{s:be(t(r.$0,s.$0))}:ts(t,r.$0,n);if(s!=null&&s.$==0)return ns(t,s.$0,e);{const i={s:Ae([],[])},l=()=>{const o=i.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){const a=Ce(e),d=Ce(n);a!=null&&a.$==1&&d!=null&&d.$==1&&(a.$0[1]&&d.$0[1]?De(i,t(a.$0[0],d.$0[0])):Ge(i,t(a.$0[0],d.$0[0])))}};return re(e,l,i),re(n,l,i),i}}function Br(t,e){const n=t.s,r=e.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:be(null)}:e;if(r!=null&&r.$==0)return t;{const s={s:Ae([],[])},i=()=>{const l=s.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const o=Ce(t),a=Ce(e);o!=null&&o.$==1&&a!=null&&a.$==1&&(o.$0[1]&&a.$0[1]?De(s,null):Ge(s,null))}};return re(t,i,s),re(e,i,s),s}}function zr(t){const e=t.s;if(e==null)return t;if(e!=null&&e.$==2){const n={s:yt(e.$0,[])};return rs(t,n),n}else if(e!=null&&e.$==3){const n={s:Ae([],[])};return re(t,r=>{yn(n,t,r)},n),n}else return t}function ct(t,e){if(t.push(e),t.length%20===0){const n=t.slice(0);pl(t);for(let r=0,s=G(n)-1;r<=s;r++){const i=N(n,r);typeof i=="object"?(l=>{l.s&&t.push(l)})(i):(l=>{t.push(l)})(i)}}}function De(t,e){const n=t.s;if(n!=null&&n.$==3){const r=n.$0;t.s=be(e);for(let s=0,i=G(r)-1;s<=i;s++)N(r,s)(e)}}function Ge(t,e){const n=t.s;if(n!=null&&n.$==3){const r=n.$1,s=n.$0;t.s=yt(e,r);for(let i=0,l=G(s)-1;i<=l;i++)N(s,i)(e)}}function _r(t){const e={s:Ae([],[])};return re(t,n=>{const r=n();re(r,s=>{let i;const l=r.s;if(l!=null&&l.$==0){const o=t.s;i=o!=null&&o.$==0}else i=!1;i?De(e,s):Ge(e,s)},e)},e),e}function Jr(t,e,n,r){return Ve(s=>t(e,n,s),r)}function Zr(t,e,n,r){return Ve(s=>t(e,s,n),r)}function Xr(t,e,n,r){return gt((s,i)=>t(e,s,i),n,r)}function Qr(t,e,n,r){return Ve(s=>t(s,e,n),r)}function Yr(t,e,n,r){return gt((s,i)=>t(s,e,i),n,r)}function es(t,e,n,r){return gt((s,i)=>t(s,i,e),n,r)}function Ce(t){const e=t.s;return e!=null&&e.$==0?y([e.$0,!0]):e!=null&&e.$==2?y([e.$0,!1]):null}function ts(t,e,n){return Ve(r=>t(e,r),n)}function ns(t,e,n){return Ve(r=>t(r,e),n)}function rs(t,e){const n=t.s;n==null?Te(e):n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,ct(n.$1,e)):n.$0}class vn extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return y(this.fillWith.View)}AddAttribute(n,r){n(r)(uo(this.fillWith))}get AsChoiceView(){return Oe(L(String,this.fillWith.View))}}class Cn extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}function ss(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),t=>{const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}let An=ue(t=>{var e;return e=class{},An=t(e),u(e,"People"),e.People=Cs(["John","Paul"]),e});class Nn extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}get AsChoiceView(){return Mt(this.fillWith)}}class xn extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}function wt(t){return e=>{try{t()(e)}catch(n){e.k(Ut(n))}}}function En(t,e){const r=is()[0];ke().Fork(()=>{r.c||t(Gn(s=>{s.$==1&&os(s.$0)},r))})}function is(){return vt.defCTS}function os(t){console.log("WebSharper: Uncaught asynchronous exception",t)}function Vt(t){return e=>{const n=[!1],r=s=>{n[0]?B("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,ke().Fork(s))};t(s=>{r(()=>{e.k(Ot(s))})},s=>{r(()=>{e.k(Ut(s))})},s=>{r(()=>{e.k(Fn(s))})})}}function ke(){return vt.scheduler}function mt(t){return e=>{e.k(Ot(t))}}function qe(t,e){return ls(n=>{t(Gn(r=>{if(r.$==0){const s=r.$0;ke().Fork(()=>{try{e(s)(n)}catch(i){n.k(Ut(i))}})}else ke().Fork(()=>{n.k(r)})},n.ct))})}function $t(){return vt.Zero}function ls(t){return e=>{e.ct.c?us(e):t(e)}}function us(t){t.k(Fn(new Ei("New",t.ct)))}function cs(t){return Vt((e,n)=>{t.then(e,r=>n(as(r)))})}function as(t){return t instanceof Error?t:new li(t)}function Dt(t){ds()||(hs(!0),fs(globalThis.document.body,"")),Je().set_Item(t,bt(""))}function $n(t,e,n){let r;const s=(r=null,[bt(t).TryGetValue(e==null?"":e.$0,{get:()=>r,set:i=>{r=i}}),r]);return s[0]?ps(s[1].cloneNode(!0),n):(console.warn("Local template doesn't exist",e),U.Empty)}function ds(){return We.LocalTemplatesLoaded}function hs(t){We.LocalTemplatesLoaded=t}function fs(t,e){const n=bt(e),r=new X("New_5"),s=t.querySelectorAll("[ws-template]");for(let p=0,b=s.length-1;p<=b;p++){const g=s[p],v=g.getAttribute("ws-template").toLowerCase();g.removeAttribute("ws-template"),r.set_Item(v,kn(g))}const i=t.querySelectorAll("[ws-children-template]");for(let p=0,b=i.length-1;p<=b;p++){const g=i[p],v=g.getAttribute("ws-children-template").toLowerCase();g.removeAttribute("ws-children-template"),r.set_Item(v,gs(g))}const l=t.querySelectorAll("template[id]");for(let p=0,b=l.length-1;p<=b;p++){const g=l[p];r.set_Item(g.getAttribute("id").toLowerCase(),rn(g))}const o=t.querySelectorAll("template[name]");for(let p=0,b=o.length-1;p<=b;p++){const g=o[p];r.set_Item(g.getAttribute("name").toLowerCase(),rn(g))}const a=new ie("New_3");function d(p){if(!n.ContainsKey(p)){let b;const g=(b=null,[r.TryGetValue(p,{get:()=>b,set:v=>{b=v}}),b]);g[0]?(a.SAdd(p),r.RemoveKey(p),Me(e,y(p),g[1],y(d))):console.warn(a.Contains(p)?"Encountered loop when instantiating "+p:"Local template does not exist: "+p)}}for(;r.count>0;)d(xs(r.Keys))}function Je(){return We.LoadedTemplates}function bt(t){let e;const n=(e=null,[Je().TryGetValue(t,{get:()=>e,set:r=>{e=r}}),e]);if(n[0])return n[1];{const r=new X("New_5");return Je().set_Item(t,r),r}}function ps(t,e){const n=ws(t,Tn(e,ms().Values)),r=n[1],s=n[0],i=s.Els;return!A(i,null)&&i.length===1&&N(i,0)instanceof Node&&A(N(i,0).nodeType,Node.ELEMENT_NODE)&&(N(i,0),!0)?Rt.TreeNode(s,r):U.Mk(Wn(s),r)}function kn(t){t.removeAttribute("ws-template");const e=t.getAttribute("ws-replace");if(e!=null){t.removeAttribute("ws-replace");const r=t.parentNode;if(!A(r,null)){const s=globalThis.document.createElement(t.tagName);s.setAttribute("ws-replace",e),r.replaceChild(s,t)}}const n=globalThis.document.createElement("div");return n.appendChild(t),n}function gs(t){const e=globalThis.document.createElement("div");for(;t.hasChildNodes();)e.appendChild(t.firstChild);return e}function rn(t){const e=globalThis.document.createElement("div"),n=t.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)e.appendChild(n.childNodes[r].cloneNode(!0));return e}function Me(t,e,n,r){const s=new ie("New_3");function i(g,v){for(;;)switch(g){case 0:if(v!==null){const c=v.nextSibling;A(v.nodeType,Node.TEXT_NODE)?ki(v):A(v.nodeType,Node.ELEMENT_NODE)&&o(v),v=c}else return null;break;case 1:const k=we(v.nodeName,y(3),null).toLowerCase(),F=k.indexOf("."),O=F===-1?[t,k]:[we(k,null,y(F-1)),we(k,y(F+1),null)],x=O[1],T=O[0];if(T!=""&&!Je().ContainsKey(T))return un(x);{T==""&&r!=null&&r.$0(x);const c=Je().Item(T);if(c.ContainsKey(x)){const f=c.Item(x).cloneNode(!0),w=new ie("New_3"),m=new X("New_5"),C=v.attributes;for(let $=0,S=C.length-1;$<=S;$++){const E=C.item($).name.toLowerCase(),I=C.item($).nodeValue;let Y=I==""?E:I.toLowerCase();m.set_Item(E,Y),w.SAdd(E)||console.warn("Hole mapped twice",E)}for(let $=0,S=v.childNodes.length-1;$<=S;$++){const E=v.childNodes[$];A(E.nodeType,Node.ELEMENT_NODE)&&(w.SAdd(E.nodeName.toLowerCase())||console.warn("Hole filled twice",x))}const P=v.childNodes.length===1&&A(v.firstChild.nodeType,Node.TEXT_NODE);if(P){const $=Ti(f,v.firstChild.textContent,x),S=(I=>Y=>I.SAdd(Y))(w);(I=>Y=>{Y!=null&&I(Y.$0)})(I=>{S(I)})($)}if(Si(f,w),!P)for(let $=0,S=v.childNodes.length-1;$<=S;$++){const E=v.childNodes[$];A(E.nodeType,Node.ELEMENT_NODE)&&(E.hasAttributes()?Pi(f,E):l(f,E))}Li(f,m),cn(f,v.parentNode,v),v.parentNode.removeChild(v);return}else return un(x)}}}function l(g,v){const k=v.nodeName.toLowerCase(),F=(x,T)=>{if(k=="title"&&v.hasChildNodes()){const c=Vi(v.textContent);for(v.removeChild(v.firstChild);c.hasChildNodes();)v.appendChild(c.firstChild)}return o(v),cn(v,x,T)};M(g,"[ws-attr-holes]",x=>{const T=ae(x.getAttribute("ws-attr-holes"),[" "],1);for(let c=0,h=T.length-1;c<=h;c++){const f=N(T,c);let w=new RegExp("\\${"+k+"}","ig"),m=x.getAttribute(f).replace(w,v.textContent);x.setAttribute(f,m)}});const O=g.querySelector("[ws-hole="+k+"]");if(A(O,null)){const x=g.querySelector("[ws-replace="+k+"]");if(A(x,null)){const T=g.querySelector("slot[name="+k+"]");return g.tagName.toLowerCase()=="template"?(F(T.parentNode,T),void T.parentNode.removeChild(T)):null}else{F(x.parentNode,x),x.parentNode.removeChild(x);return}}else{for(;O.hasChildNodes();)O.removeChild(O.lastChild);return O.removeAttribute("ws-hole"),(x=>{const T=x;return c=>F(T,c)})(O)(null)}}function o(g){g.hasAttribute("ws-preserve")||(St(g.nodeName.toLowerCase(),"ws-")?d(g):(Mn(g),a(g.firstChild)))}function a(g){return i(0,g)}function d(g){return i(1,g)}function p(g){for(;;){const v=g.querySelector("[ws-template]");if(A(v,null)){const k=g.querySelector("[ws-children-template]");if(A(k,null)){const F=g.querySelectorAll("template[id]");for(let x=1,T=F.length-1;x<=T;x++){const c=F[x];s.Contains(c)||(Me(t,y(c.getAttribute("id")),c,null),s.SAdd(c))}const O=g.querySelectorAll("template[name]");for(let x=1,T=O.length-1;x<=T;x++){const c=O[x];s.Contains(c)||(Me(t,y(c.getAttribute("name")),c,null),s.SAdd(c))}return null}else{const F=k.getAttribute("ws-children-template");k.removeAttribute("ws-children-template"),Me(t,y(F),k,null),g=g}}else{const k=v.getAttribute("ws-template");bs(t,y(k),v)(null),g=g}}}const b=(e==null?"":e.$0).toLowerCase();bt(t).set_Item(b,n),n.hasChildNodes()&&(p(n),a(n.firstChild))}function ws(t,e){let n;const r=[],s=[],i=[],l=[],o=new X("New_5"),a=V(e);try{for(;a.MoveNext();){const c=a.Current;o.set_Item(c.Name,c)}}finally{const c=a;typeof c=="object"&&se(c)&&a.Dispose()}let d=an(t);const p=(c,h)=>{const f=zn(c,h);s.push(_n(f)),i.push([c,f]);const w=Be(f.OnAfterRender);if(w==null)return null;{const m=w.$0;l.push(()=>{m(c)});return}},b=c=>{let h;const f=(h=null,[o.TryGetValue(c,{get:()=>h,set:w=>{h=w}}),h]);if(f[0]){const w=f[1];if(w instanceof Cn)return y(w.Value);if(w instanceof Nn)return y(U.TextNode(w.Value));{const m=w.ForTextView();return m==null?null:y(U.TextView(m.$0))}}else return null};M(t,"[ws-hole]",c=>{const h=c.getAttribute("ws-hole");for(c.removeAttribute("ws-hole");c.hasChildNodes();)c.removeChild(c.lastChild);const f=b(h);if(f!=null&&f.$==1){const w=f.$0;at(c,w.docNode),r.push(Ee.New(xt(c),w.docNode,null,c,He(),null)),s.push(w.updates)}}),M(t,"[ws-replace]",c=>{const h=b(c.getAttribute("ws-replace"));if(h!=null&&h.$==1){const f=h.$0,w=c.parentNode,m=globalThis.document.createTextNode("");w.replaceChild(m,c);const C=pi(m,f.docNode);d=an(t);const P=Ft($=>c===$,d);P==null||Lt(d,P.$0,f.docNode),r.push(Ee.New(xt(w),f.docNode,y([C,m]),w,He(),null)),s.push(f.updates)}});let g=!1;M(t,"slot",c=>{const h=c.getAttribute("name"),f=h==""||h==null?"default":h.toLowerCase();if(!(g&&f=="default"||!A(t.parentElement,null))){for(;c.hasChildNodes();)c.removeChild(c.lastChild);f=="default"&&(g=!0);const w=b(f);if(w!=null&&w.$==1){const m=w.$0;at(c,m.docNode),r.push(Ee.New(xt(c),m.docNode,null,c,He(),null)),s.push(m.updates)}}}),M(t,"[ws-attr]",c=>{let h;const f=c.getAttribute("ws-attr");c.removeAttribute("ws-attr");const w=(h=null,[o.TryGetValue(f,{get:()=>h,set:m=>{h=m}}),h]);if(w[0]){const m=w[1];m instanceof io?p(c,m.Value):console.warn("Attribute hole filled with non-attribute data",f)}}),M(t,"[ws-on]",c=>{p(c,K.Concat(Gt(h=>{let f;const w=ae(h,[":"],1),m=(f=null,[o.TryGetValue(N(w,1),{get:()=>f,set:C=>{f=C}}),f]);if(m[0]){const C=m[1];return C instanceof oo?y(lo(N(w,0),C.Value)):C instanceof xn?y(K.Handler(N(w,0),C.Value)):(console.warn("Event hole on"+N(w,0)+" filled with non-event data",N(w,1)),null)}else return null},ae(c.getAttribute("ws-on"),[" "],1)))),c.removeAttribute("ws-on")}),M(t,"[ws-onafterrender]",c=>{let h;const f=c.getAttribute("ws-onafterrender"),w=(h=null,[o.TryGetValue(f,{get:()=>h,set:m=>{h=m}}),h]);if(w[0]){const m=w[1];m instanceof wo||m instanceof mo?(c.removeAttribute("ws-onafterrender"),p(c,hn(m.Value))):console.warn("onafterrender hole filled with non-onafterrender data",f)}}),M(t,"[ws-var]",c=>{let h;const f=c.getAttribute("ws-var");c.removeAttribute("ws-var");const w=(h=null,[o.TryGetValue(f,{get:()=>h,set:m=>{h=m}}),h]);w[0]&&w[1].AddAttribute(m=>C=>p(m,C),c)});const v=()=>{ys("[ws-dom]",c=>{let h,f,w;const m=(h=null,[o.TryGetValue(c.getAttribute("ws-dom").toLowerCase(),{get:()=>h,set:C=>{h=C}}),h]);if(m[0]){const C=m[1];if(C instanceof Dn){const P=C.Value;c.removeAttribute("ws-dom"),f=c;const $=new MutationObserver((S,E)=>{Q(I=>{I.removedNodes.forEach(hr(Y=>Y[0]===f&&I.addedNodes.length!==1?(P.SetFinal(null),E.disconnect()):null),null)},S)});c.parentElement!==null&&$.observe(c.parentElement,(w={},w.childList=!0,w)),P.Set(y(c)),Un(S=>{if(S!=null&&S.$==1){const E=S.$0;if(f!==E){let I=[E];f.replaceWith.apply(f,I),f=E}}else f.remove(),$.disconnect()},P.View)}}})};M(t,"[ws-attr-holes]",c=>{const h=new RegExp(Ze(),"g"),f=ae(c.getAttribute("ws-attr-holes"),[" "],1);c.removeAttribute("ws-attr-holes");for(let w=0,m=f.length-1;w<=m;w++)(()=>{let C;const P=N(f,w),$=c.getAttribute(P);let S=null,E=0;const I=[];for(;S=h.exec($),S!==null;){const z=we($,y(E),y(h.lastIndex-N(S,0).length-1));E=h.lastIndex,I.push([z,N(S,1)])}const Y=we($,y(E),null);h.lastIndex=0;const W=Wt((z,ee)=>(fe=>{const pe=fe[0],R=fe[1];return q=>{let H;const te=q[0],oe=q[1],_=(H=null,[o.TryGetValue(R,{get:()=>H,set:ge=>{H=ge}}),H]),de=_[0]?_[1].AsChoiceView:Mt("");return de.$==1?[pe,Se.Cons(te==""?de.$0:L(ge=>ge+te,de.$0),oe)]:[pe+de.$0+te,oe]}})(z)(ee),I,[Y,Se.Empty]);if(W[1].$==1)if(W[1].$1.$==1)if(W[1].$1.$1.$==1)if(W[1].$1.$1.$1.$==0){const z=W[0];C=Re(P,ni((ee,fe,pe)=>z+ee+fe+pe,W[1].$0,W[1].$1.$0,W[1].$1.$1.$0))}else{const z=W[0];C=Re(P,L(ee=>z+Pe("",ee),ri(W[1])))}else{const z=W[0];C=Re(P,si((ee,fe)=>z+ee+fe,W[1].$0,W[1].$1.$0))}else if(W[0]=="")C=Re(P,W[1].$0);else{const z=W[0];C=Re(P,L(ee=>z+ee,W[1].$0))}else C=K.Create(P,W[0]);return p(c,C)})()});let k=d;const F=l.length==0?y(()=>{v()}):y(c=>{v(),Q(h=>{h(c)},l)}),O=!A(d,null)&&d.length===1&&N(d,0)instanceof Node&&N(d,0)instanceof Element&&(n=N(d,0),!0)?y(n):null;let x={Els:k,Dirty:!0,Holes:r,Attrs:i,Render:F?F.$0:void 0,El:O?O.$0:void 0};return[dr(x,["Render","El"]),rt(Xe(),Qe,s)]}function ms(){return We.GlobalHoles}function M(t,e,n){Oi(t,e,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function bs(t,e,n){const r=kn(n);return s=>{Me(t,e,r,s)}}function ys(t,e){Ii(t,n=>{n.closest("[ws-preserve]")==null&&e(n)})}function Ze(){return We.TextHoleRE}class U extends j{constructor(n,r){super();u(this,"docNode");u(this,"updates");this.docNode=n,this.updates=r}static RunById(n,r){const s=globalThis.document.getElementById(n);A(s,null)?B("invalid id: "+n):U.Run(s,r)}static Convert(n,r){return U.Flatten(Ys(n,r))}static Run(n,r){at(n,r.docNode),U.RunInPlace(!1,n,r)}static Flatten(n){return U.EmbedView(L(r=>U.Concat(r),n))}static get Empty(){return U.Mk(null,Xe())}static RunInPlace(n,r,s){const i=ci(r,s.docNode);Un(Hn()||Kn()?zi(ai(n,i,s.docNode)):()=>{di(n,i,s.docNode)},s.updates)}static Concat(n){return rt(U.Empty,U.Append,nt(n))}static EmbedView(n){const r=hi();return U.Mk(Js(r),L(()=>{},ti(s=>(fi(r,s.docNode),s.updates),n)))}static Mk(n,r){return new U(n,r)}static Append(n,r){return U.Mk(Zs(n.docNode,r.docNode),Qe(n.updates,r.updates))}static TextNode(n){return U.Mk(Xs(globalThis.document.createTextNode(n)),Xe())}static TextView(n){const r=yi();return U.Mk(Qs(r),L(s=>{vi(r,s)},n))}}function He(){return vs(sn()+1),sn()}function vs(t){It.counter=t}function sn(){return It.counter}function yt(t,e){return{$:2,$0:t,$1:e}}function be(t){return{$:0,$0:t}}function Ae(t,e){return{$:3,$0:t,$1:e}}class X extends j{constructor(n,r,s,i){var e=(...$l)=>(super(...$l),u(this,"equals"),u(this,"hash"),u(this,"count"),u(this,"data"),this);if(n=="New_5"&&(n="New_6",r=[],s=A,i=_e),n=="New_6"){const l=r,o=s,a=i;e(),this.equals=o,this.hash=a,this.count=0,this.data=[];const d=V(l);try{for(;d.MoveNext();){const p=d.Current;this.set(p.K,p.V)}}finally{const p=d;typeof p=="object"&&se(p)&&d.Dispose()}}}set_Item(n,r){this.set(n,r)}set(n,r){const s=this.hash(n),i=this.data[s];if(i==null)this.count=this.count+1,this.data[s]=new Array({K:n,V:r});else{const l=Ft(o=>this.equals.apply(null,[xe(o)[0],n]),i);l==null?(this.count=this.count+1,i.push({K:n,V:r})):i[l.$0]={K:n,V:r}}}TryGetValue(n,r){const s=this.data[this.hash(n)];if(s==null)return!1;{const i=Sn(l=>{const o=xe(l);return this.equals.apply(null,[o[0],n])?y(o[1]):null},s);return i!=null&&i.$==1&&(r.set(i.$0),!0)}}RemoveKey(n){return this.remove(n)}ContainsKey(n){const r=this.data[this.hash(n)];return r==null?!1:Pn(s=>this.equals.apply(null,[xe(s)[0],n]),r)}get Keys(){return new Hi(this)}GetEnumerator(){return Rn(Us(Ks(this.data)))}get Values(){return new Ao(this)}remove(n){const r=this.hash(n),s=this.data[r];if(s==null)return!1;{const i=tt(l=>!this.equals.apply(null,[xe(l)[0],n]),s);return G(i)<s.length&&(this.count=this.count-1,this.data[r]=i,!0)}}Item(n){return this.get(n)}get(n){const r=this.data[this.hash(n)];return r==null?oi():Os(s=>{const i=xe(s);return this.equals.apply(null,[i[0],n])?y(i[1]):null},r)}}function Te(t){let e;const n=t.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(e=n.$1,!1)))){t.s=null;for(let r=0,s=G(e)-1;r<=s;r++){const i=N(e,r);typeof i=="object"?(l=>{Te(l)})(i):i()}}}function Cs(t){return As(e=>e,t)}function As(t,e){return Ns(t,xi(me(e)))}function Ns(t,e){return new Dr("New",t,e)}class ie extends j{constructor(n,r,s,i){var e=(...kl)=>(super(...kl),u(this,"equals"),u(this,"hash"),u(this,"data"),u(this,"count"),this);n=="New_3"&&(n="New_4",r=[],s=A,i=_e);let l;if(n=="New_2"&&(l=r,n="New_4",r=l,s=A,i=_e),n=="New_4"){const o=r,a=s,d=i;e(),this.equals=a,this.hash=d,this.data=[],this.count=0;const p=V(o);try{for(;p.MoveNext();)this.add(p.Current)}finally{const b=p;typeof b=="object"&&se(b)&&p.Dispose()}}}SAdd(n){return this.add(n)}Contains(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrContains(n,r)}add(n){const r=this.hash(n),s=this.data[r];return s==null?(this.data[r]=[n],this.count=this.count+1,!0):this.arrContains(n,s)?!1:(s.push(n),this.count=this.count+1,!0)}arrContains(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?s=!1:i=i+1;return!s}GetEnumerator(){return V(Et(this.data))}ExceptWith(n){const r=V(n);try{for(;r.MoveNext();)this.Remove(r.Current)}finally{const s=r;typeof s=="object"&&se(s)&&r.Dispose()}}get Count(){return this.count}IntersectWith(n){const r=new ie("New_4",n,this.equals,this.hash),s=Et(this.data);for(let i=0,l=s.length-1;i<=l;i++){const o=s[i];r.Contains(o)||this.Remove(o)}}Remove(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrRemove(n,r)&&(this.count=this.count-1,!0)}CopyTo(n,r){const s=Et(this.data);for(let i=0,l=s.length-1;i<=l;i++)Lt(n,i+r,s[i])}arrRemove(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?(r.splice(i,1),s=!1):i=i+1;return!s}}function Tn(t,e){return{GetEnumerator:()=>{const n=V(t),r=[!0];return new he(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{const i=s.s;return A(i,null)||i.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=V(e),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{const i=s.s;A(i,null)||i.Dispose()})}}}function xs(t){const e=V(t);try{return e.MoveNext()?e.Current:kt()}finally{const n=e;typeof n=="object"&&se(n)&&e.Dispose()}}function Es(t,e,n){let r=e;const s=V(n);try{for(;s.MoveNext();)r=t(r,s.Current);return r}finally{const i=s;typeof i=="object"&&se(i)&&s.Dispose()}}function $s(t,e){return{GetEnumerator:()=>{const n=V(e),r=new ie("New_3");return new he(null,null,s=>{let i,l;if(n.MoveNext()){for(i=n.Current,l=r.SAdd(t(i));!l&&n.MoveNext();)i=n.Current,l=r.SAdd(t(i));return l&&(s.c=i,!0)}else return!1},()=>{n.Dispose()})}}}function ks(t,e){const n=V(e);try{for(;n.MoveNext();)t(n.Current)}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}function Ne(t,e){return{GetEnumerator:()=>{const n=V(e);return new he(null,null,r=>n.MoveNext()&&(r.c=t(n.Current),!0),()=>{n.Dispose()})}}}function on(t){return{GetEnumerator:()=>V(t())}}function Ts(t,e){return Ps(Ne(t,e))}function Ss(t){const e=V(t);try{e.MoveNext()||Vs();let n=e.Current;for(;e.MoveNext();){const r=e.Current;pt(r,n)===1&&(n=r)}return n}finally{const n=e;typeof n=="object"&&se(n)&&e.Dispose()}}function Ps(t){return{GetEnumerator:()=>{const e=V(t);function n(r){for(;;){const s=r.s;if(A(s,null))if(e.MoveNext())r.s=V(e.Current),r=r;else return e.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new he(null,null,n,r=>{const s=r.s;A(s,null)||s.Dispose();const i=e;A(i,null)||i.Dispose()})}}}function Ls(t,e){return Ds(t,Gs(e))}function Vs(){return B("The input sequence was empty.")}function Ds(t,e){return t<0&&Mi(),{GetEnumerator:()=>{const n=[V(e)];return new he(0,null,r=>{if(r.s=r.s+1,r.s>t)return!1;{const s=n[0];return A(s,null)?kt():s.MoveNext()?(r.c=s.Current,r.s===t&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,kt())}},()=>{const r=n[0];A(r,null)||r.Dispose()})}}}function Gs(t){return{GetEnumerator:()=>new he(0,null,e=>(e.c=t(e.s),e.s=e.s+1,!0),void 0)}}function Fs(t,e){return!Ws(n=>!t(n),e)}function Ws(t,e){const n=V(e);try{let r=!1;for(;!r&&n.MoveNext();)r=t(n.Current);return r}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}function Gt(t,e){const n=[];for(let r=0,s=e.length-1;r<=s;r++){const i=t(e[r]);i==null||n.push(i.$0)}return n}function Ft(t,e){let n=null,r=0;for(;r<e.length&&n==null;)t(e[r])&&(n=y(r)),r=r+1;return n}function Sn(t,e){let n=null,r=0;for(;r<e.length&&n==null;){const s=t(e[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function Pn(t,e){let n=!1,r=0;const s=G(e);for(;!n&&r<s;)t(e[r])?n=!0:r=r+1;return n}function Us(t){return Array.prototype.concat.apply([],me(t))}function me(t){if(t instanceof Array)return t.slice();if(t instanceof Se)return Ln(t);{const e=[],n=V(t);try{for(;n.MoveNext();)e.push(n.Current);return e}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}}function Q(t,e){for(let n=0,r=e.length-1;n<=r;n++)t(e[n])}function Wt(t,e,n){let r=n;const s=e.length;for(let i=1,l=s;i<=l;i++)r=t(e[s-i],r);return r}function ye(t,e){const n=new Array(e.length);for(let r=0,s=e.length-1;r<=s;r++)n[r]=t(e[r]);return n}function tt(t,e){const n=[];for(let r=0,s=e.length-1;r<=s;r++)t(e[r])&&n.push(e[r]);return n}function Ln(t){const e=[];let n=t;for(;n.$!=0;)e.push(Go(n)),n=Fo(n);return e}function Os(t,e){const n=Sn(t,e);return n==null?B("KeyNotFoundException"):n.$0}function Vn(t,e){let n=!0,r=0;const s=G(e);for(;n&&r<s;)t(e[r])?r=r+1:n=!1;return n}function Is(t,e){const n=new Array(t);for(let r=0,s=t-1;r<=s;r++)n[r]=e;return n}function Rs(t,e){t<0&&B("Negative size given.");const n=new Array(t);for(let r=0,s=t-1;r<=s;r++)n[r]=e(r);return n}let Z=ue(t=>{var e;return e=class extends j{constructor(){super(...arguments);u(this,"id");u(this,"vars")}static GetOrAddHoleFor(s,i,l){let o;const a=Z.GetHolesFor(s),d=(o=null,[a.TryGetValue(i,{get:()=>o,set:p=>{o=p}}),o]);if(d[0])return d[1];{const p=l();return a.set_Item(i,p),p}}static GetHolesFor(s){let i;const l=(i=null,[Z.initialized.TryGetValue(s,{get:()=>i,set:o=>{i=o}}),i]);if(l[0])return l[1];{const o=new X("New_5");return Z.initialized.set_Item(s,o),o}}},Z=t(e),u(e,"init"),u(e,"initialized"),u(e,"instances"),Z.initialized=new X("New_5"),Z.instances=new X("New_5"),e});class js extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return y(L(String,this.fillWith.View))}AddAttribute(n,r){n(r)(co(this.fillWith))}get AsChoiceView(){return Oe(L(String,this.fillWith.View))}}class qs extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return y(L(String,this.fillWith.View))}AddAttribute(n,r){n(r)(ao(this.fillWith))}get AsChoiceView(){return Oe(L(String,this.fillWith.View))}}class Ms extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return y(L(n=>new Date(n).toLocaleString(),this.fillWith.View))}AddAttribute(n,r){n(r)(ho(this.fillWith))}get AsChoiceView(){return Oe(L(n=>new Date(n).toLocaleString(),this.fillWith.View))}}class Hs extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return y(L(String,this.fillWith.View))}AddAttribute(n,r){n(r)(fo(this.fillWith))}get AsChoiceView(){return Oe(L(String,this.fillWith.View))}}class Dn extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}function Ks(t){let e=[];for(var n in t)e.push(t[n]);return e}class Bs extends J{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return y(L(n=>Pe(",",n),this.fillWith.View))}AddAttribute(n,r){n(r)(po(this.fillWith))}get AsChoiceView(){return Oe(L(String,this.fillWith.View))}}function Gn(t,e){return{k:t,ct:e}}function Ut(t){return{$:1,$0:t}}function Ot(t){return{$:0,$0:t}}function Fn(t){return{$:2,$0:t}}function zs(t,e){return{c:t,r:e}}function _s(t,e){return ml(t,-2147483648,2147483647,e)}function Wn(t){return{$:6,$0:t}}function Js(t){return{$:2,$0:t}}function Zs(t,e){return{$:0,$0:t,$1:e}}function Xs(t){return{$:5,$0:t}}function Qs(t){return{$:4,$0:t}}function Ys(t,e){return ei(n=>n,t,e)}function ei(t,e,n){const r=[new X("New_5")];return L(s=>{const i=r[0],l=new X("New_5"),o=_i(a=>{const d=t(a),p=i.ContainsKey(d)?i.Item(d):e(a);return l.set_Item(d,p),p},me(s));return r[0]=l,o},n)}function L(t,e){return Fe(()=>Ve(t,e()))}function Xe(t){const e={s:be(t)};return()=>e}function Un(t,e){function n(){Mr(e(),t,()=>{ke().Fork(n)})}ke().Fork(n)}function Fe(t){const e={c:null,o:t};return()=>{let n=e.c;if(n===null){n=e.o(),e.c=n;const r=n.s;return r!=null&&r.$==0?e.o=null:bn(n,()=>{e.c=null}),n}else return n}}function ti(t,e){return ii(L(t,e))}function ni(t,e,n,r){return Fe(()=>Hr(t,e(),n(),r()))}function ri(t){return Fe(()=>Kr(Ne(e=>e(),t)))}function si(t,e,n){return Fe(()=>gt(t,e(),n()))}function Qe(t,e){return Fe(()=>Br(t(),e()))}function ii(t){return Fe(()=>_r(t()))}function oi(){throw new Uo("New")}function V(t){return t instanceof Array?On(t):A(typeof t,"string")?In(t):t.GetEnumerator()}function On(t){return new he(0,null,e=>{const n=e.s;return n<G(t)&&(e.c=N(t,n),e.s=n+1,!0)},void 0)}function In(t){return new he(0,null,e=>{const n=e.s;return n<t.length&&(e.c=t[n],e.s=n+1,!0)},void 0)}function Rn(t){return t instanceof Array?On(t):A(typeof t,"string")?In(t):"GetEnumerator0"in t?t.GetEnumerator0():t.GetEnumerator()}class he extends j{constructor(n,r,s,i){super();u(this,"s");u(this,"c");u(this,"n");u(this,"d");u(this,"e");this.s=n,this.c=r,this.n=s,this.d=i,this.e=0}MoveNext(){const n=this.n(this);return this.e=n?1:2,n}get Current(){return this.e===1?this.c:this.e===0?B("Enumeration has not started. Call MoveNext."):B("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}}class li extends Error{constructor(n){super("Promise rejected");u(this,"reason");this.reason=n}}let vt=ue(t=>{var e;return e=class{},vt=t(e),u(e,"GetCT"),u(e,"Zero"),u(e,"defCTS"),u(e,"scheduler"),u(e,"noneCT"),e.noneCT=zs(!1,[]),e.scheduler=new ui,e.defCTS=[new $i],e.Zero=mt(),e.GetCT=r=>{r.k(Ot(r.ct))},e});class ui extends j{constructor(){super();u(this,"idle");u(this,"robin");this.idle=!0,this.robin=[]}Fork(n){this.robin.push(n),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const n=Date.now();let r=!0;for(;r;)this.robin.length===0?(this.idle=!0,r=!1):(this.robin.shift()(),Date.now()-n>40&&(setTimeout(()=>{this.tick()},0),r=!1))}}let We=ue(t=>{var e;return e=class{},We=t(e),u(e,"RenderedFullDocTemplate"),u(e,"TextHoleRE"),u(e,"GlobalHoles"),u(e,"LocalTemplatesLoaded"),u(e,"LoadedTemplates"),e.LoadedTemplates=new X("New_5"),e.LocalTemplatesLoaded=!1,e.GlobalHoles=new X("New_5"),e.TextHoleRE="\\${([^}]+)}",e.RenderedFullDocTemplate=null,e});function at(t,e){Ye(t,e,null)}function Ye(t,e,n){for(;;){if(e!=null&&e.$==1)return it(t,e.$0.El,n);if(e!=null&&e.$==2){const r=e.$0;r.Dirty=!1,e=r.Current}else{if(e==null)return n;if(e!=null&&e.$==4)return it(t,e.$0.Text,n);if(e!=null&&e.$==5)return it(t,e.$0,n);if(e!=null&&e.$==6)return Wt((r,s)=>(i=>l=>o=>l==null||l.constructor===Object?Ye(i,l,o):it(i,l,o))(t)(r)(s),e.$0.Els,n);{const r=e.$1;e=e.$0,n=Ye(t,r,n)}}}}function ci(t,e){return No(xo(),gi(t,Zn(),e))}function ai(t,e,n){return Hn()?wt(()=>{const r=Qn(n),s=bi(e,r),i=mi(e,r);return qe(dn(Ki(s,wi(e,r))),()=>qe(ln(t,e),()=>qe(dn(i),()=>(e.PreviousNodes=r,mt(null)))))}):ln(t,e)}function di(t,e,n){const r=Qn(n);et(t,e.Top),e.PreviousNodes=r}function hi(){return{Current:null,Dirty:!1}}function fi(t,e){t.Current=e,t.Dirty=!0}function pi(t,e){const n=t.parentNode,r=globalThis.document.createTextNode("");return n.insertBefore(r,t),Ci(t,e),r}function it(t,e,n){return Ri(t,n,e),e}function gi(t,e,n){at(t,n);const r=zn(t,e);return Ee.New(r,n,null,t,He(),Be(r.OnAfterRender))}function ln(t,e){if(Kn()){const n=r=>{requestAnimationFrame(()=>{et(t,e.Top),r()})};return Vt((r,s,i)=>n.apply(null,[r,s,i]))}else return et(t,e.Top),mt(null)}function wi(t,e){return Ct(ye(n=>Qi(n.Attr),Kt(Yn(e,Ht(n=>Xi(n.Attr),t.PreviousNodes)))))}function mi(t,e){return Ct(ye(n=>eo(n.Attr),Kt(Yn(t.PreviousNodes,Ht(n=>Yi(n.Attr),e)))))}function bi(t,e){const n=s=>to(s.Attr),r=s=>Ht(n,s);return Ct(ye(s=>no(s.Attr),Kt(Eo(r(t.PreviousNodes),r(e)))))}function et(t,e){t||Ai(e),jn(e.Children),qn(e)}function yi(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function vi(t,e){t.Value=e,t.Dirty=!0}function Ci(t,e){Ye(t.parentNode,e,t)}function Ai(t){function e(n){function r(s){for(;;)if(s!=null&&s.$==0){const i=s.$1,l=s.$0;if(r(l))return!0;s=i}else if(s!=null&&s.$==2){const i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){const i=s.$0;return i.Dirty||Pn(e,i.Holes)}else return!1}return r(n.Children)}Xn(t.El,t.Attr),e(t)&&Ni(t)}function jn(t){for(;;){if(t!=null&&t.$==1)return et(!1,t.$0);if(t!=null&&t.$==2)t=t.$0.Current;else{if(t==null)return null;if(t!=null&&t.$==5)return null;if(t!=null&&t.$==4){const e=t.$0;return e.Dirty?(e.Text.nodeValue=e.Value,e.Dirty=!1):null}else if(t!=null&&t.$==6){const e=t.$0;return Q(n=>{et(!1,n)},e.Holes),Q(n=>{Xn(n[0],n[1])},e.Attrs),qn(e)}else{const e=t.$1,n=t.$0;jn(n),t=e}}}}function qn(t){const e=Be(t.Render);e!=null&&e.$==1&&(e.$0(t.El),ze(t,"Render",null))}function Ni(t){const e=t.El;function n(o,a){for(;;){if(o!=null&&o.$==1)return o.$0.El;if(o!=null&&o.$==2){const d=o.$0;if(d.Dirty)return d.Dirty=!1,Ye(e,d.Current,a);o=d.Current}else{if(o==null)return a;if(o!=null&&o.$==4)return o.$0.Text;if(o!=null&&o.$==5)return o.$0;if(o!=null&&o.$==6){const d=o.$0;return d.Dirty&&(d.Dirty=!1),Wt((p,b)=>p==null||p.constructor===Object?n(p,b):p,d.Els,a)}else{const d=o.$1;o=o.$0,a=n(d,a)}}}}const r=t.El;hl(o=>{ji(r,o)},dl(fl(t),al(t.El,Be(t.Delimiters))));let s=t.Children;const i=Be(t.Delimiters);let l=i!=null&&i.$==1?i.$0[1]:null;n(s,l)}let It=ue(t=>{var e;return e=class{},It=t(e),u(e,"counter"),e.counter=0,e});class Ee{constructor(){u(this,"Attr");u(this,"Children");u(this,"Delimiters");u(this,"El");u(this,"ElKey");u(this,"Render")}Equals(e){return this.ElKey===e.ElKey}GetHashCode(){return this.ElKey}static New(e,n,r,s,i,l){const o={Attr:e,Children:n,El:s,ElKey:i};let a=(ze(o,"Delimiters",r),ze(o,"Render",l),o);return le(Ee,a)}}function xi(t){return new Zi(t)}class Rt extends U{constructor(n,r,s,i){super(n,r);u(this,"docNode_1");u(this,"updates_1");u(this,"elt");u(this,"rvUpdates");this.docNode_1=n,this.updates_1=r,this.elt=s,this.rvUpdates=i}static TreeNode(n,r){const s=ht.Create(r);let i=Wn(n);const l=ye(d=>_n(d[1]),n.Attrs);let o=rt(Xe(),Qe,l),a=Qe(o,s.v);return new Rt(i,a,N(n.Els,0),s)}}class Ei extends Error{constructor(n,r,s,i){var e=(...Tl)=>(super(...Tl),u(this,"ct"),this);let l;if(n=="New"&&(l=r,n="New_1",r="The operation was canceled.",s=null,i=l),n=="New_1"){const o=r,a=s,d=i;e(o),this.inner=a,this.ct=d}}}class $i extends j{constructor(){super();u(this,"init");u(this,"c");u(this,"pending");u(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}}function ki(t){let e=null,n=0;const r=t.textContent,s=new RegExp(Ze(),"g");for(;e=s.exec(r),e!==null;){t.parentNode.insertBefore(globalThis.document.createTextNode(we(r,y(n),y(s.lastIndex-N(e,0).length-1))),t),n=s.lastIndex;const i=globalThis.document.createElement("span");i.setAttribute("ws-replace",N(e,1).toLowerCase()),t.parentNode.insertBefore(i,t)}s.lastIndex=0,t.textContent=we(r,y(n),null)}function un(t){console.warn("Instantiating non-loaded template",t)}function Ti(t,e,n){const r=t.querySelector("[ws-replace]");return A(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(e),r),y(r.getAttribute("ws-replace")))}function Si(t,e){const n=r=>{M(t,"["+r+"]",s=>{e.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),M(t,"[ws-hole]",r=>{if(!e.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),M(t,"[ws-replace]",r=>{e.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),M(t,"[ws-on]",r=>{r.setAttribute("ws-on",Pe(" ",tt(s=>e.Contains(N(ae(s,[":"],1),1)),ae(r.getAttribute("ws-on"),[" "],1))))}),M(t,"[ws-attr-holes]",r=>{const s=ae(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++){const o=N(s,i);let a=new RegExp(Ze(),"g"),d=r.getAttribute(o).replace(a,(p,b)=>e.Contains(b)?p:"");r.setAttribute(o,d)}})}function Pi(t,e){Mn(e);const n=e.nodeName.toLowerCase(),r=t.querySelector("[ws-attr="+n+"]");if(A(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,i=e.attributes.length-1;s<=i;s++){const l=e.attributes.item(s);l.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+l.nodeValue):r.setAttribute(l.name,l.nodeValue)}}}function Li(t,e){const n=r=>{M(t,"["+r+"]",s=>{let i;const l=(i=null,[e.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>i,set:o=>{i=o}}),i]);l[0]&&s.setAttribute(r,l[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),M(t,"[ws-on]",r=>{r.setAttribute("ws-on",Pe(" ",ye(s=>{let i;const l=ae(s,[":"],1),o=(i=null,[e.TryGetValue(N(l,1),{get:()=>i,set:a=>{i=a}}),i]);return o[0]?N(l,0)+":"+o[1]:s},ae(r.getAttribute("ws-on"),[" "],1))))}),M(t,"[ws-attr-holes]",r=>{const s=ae(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++)(()=>{const o=N(s,i);return r.setAttribute(o,Es((a,d)=>{const p=xe(d);return a.replace(new RegExp("\\${"+p[0]+"}","ig"),"${"+p[1]+"}")},r.getAttribute(o),e))})()})}function cn(t,e,n){for(;;)if(t.hasChildNodes())n=e.insertBefore(t.lastChild,n);else return null}function Mn(t){const e=t.attributes,n=[],r=[],s=[];for(let l=0,o=e.length-1;l<=o;l++){const a=e.item(l);if(St(a.nodeName,"ws-on")&&a.nodeName!="ws-onafterrender"&&a.nodeName!="ws-on")n.push(a.nodeName),r.push(we(a.nodeName,y(5),null)+":"+a.nodeValue.toLowerCase());else if(!St(a.nodeName,"ws-")&&new RegExp(Ze()).test(a.nodeValue)){let d=new RegExp(Ze(),"g"),p=a.nodeValue.replace(d,(b,g)=>"${"+g.toLowerCase()+"}");a.nodeValue=p,s.push(a.nodeName)}}r.length!=0&&t.setAttribute("ws-on",Pe(" ",r)),s.length!=0&&t.setAttribute("ws-attr-holes",Pe(" ",s));const i=l=>{const o=t.getAttribute(l);o==null||t.setAttribute(l,o.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),Q(l=>{t.removeAttribute(l)},n)}function we(t,e,n){if(e==null)if(n!=null&&n.$==1){const r=n.$0;return r<0?"":t.slice(0,r+1)}else return"";else{if(n==null)return t.slice(e.$0);{const r=n.$0,s=e.$0;return r<0?"":t.slice(s,r+1)}}}function Vi(t){const e=globalThis.document.createElement("div");if(Di().test(t)){let l=function(o,a){for(;;){if(a===0)return o;{const d=a;o=o.lastChild,a=d-1}}};const n=Ui().exec(t),r=A(n,null)?"":N(n,1).toLowerCase(),s=Gi()[r],i=s||Fi();return e.innerHTML=i[1]+t.replace(Wi(),"<$1></$2>")+i[2],(o=>{const a=o;return d=>l(a,d)})(e)(i[0])}else return e.appendChild(globalThis.document.createTextNode(t)),e}function an(t){const e=[];for(let n=0,r=t.childNodes.length-1;n<=r;n++)e.push(t.childNodes[n]);return e}function Di(){return Ie.rhtml}function Gi(){return Ie.wrapMap}function Fi(){return Ie.defaultWrap}function Wi(){return Ie.rxhtmlTag}function Ui(){return Ie.rtagName}function Oi(t,e,n){const r=t.querySelectorAll(e);for(let s=0,i=r.length-1;s<=i;s++)n(r[s])}function Ii(t,e){const n=globalThis.document.querySelectorAll(t);for(let r=0,s=n.length-1;r<=s;r++)e(n[r])}function Ri(t,e,n){let r;if(n.parentNode===t){const s=n.nextSibling;let i=A(s,null)?null:s;r=e===i}else r=!1;r||t.insertBefore(n,e)}function ji(t,e){e.parentNode===t&&t.removeChild(e)}function kt(){return B("The input sequence has an insufficient number of elements.")}function qi(t,e){let n=!0,r=0;const s=G(e);for(;n&&r<s;)A(e[r],t)?n=!1:r=r+1;return!n}function Mi(){return B("The input must be non-negative.")}class Hi extends j{constructor(n){super();u(this,"d");this.d=n}GetEnumerator(){return V(Ne(n=>n.K,this.d))}}function Hn(){return $o()}function dn(t){return wt(()=>qe(Bi(()=>{},ko(t)),()=>(To(t),mt(null))))}function Ki(t,e){return jt(rr(t.$0,e.$0))}function Bi(t,e){const n=e.Duration;if(n===0)return $t();{const r=s=>{function i(l){return o=>{const a=o-l;return e.Compute(a),a<=n?void requestAnimationFrame(d=>{i(l)(d)}):s()}}requestAnimationFrame(l=>{i(l)(l)})};return Vt((s,i,l)=>r.apply(null,[s,i,l]))}}function jt(t){return{$:0,$0:t}}function Ct(t){return jt(Do(Ne(Po,t)))}function Nt(){return jt(ir())}function Kn(){return tr.BatchUpdatesEnabled}function zi(t){const e=[0];function n(){return wt(()=>qe(t,()=>{const r=e[0];return A(r,1)?(e[0]=0,$t()):A(r,2)?(e[0]=1,n()):$t()}))}return()=>{const r=e[0];A(r,0)?(e[0]=1,En(n())):A(r,1)&&(e[0]=2)}}function Bn(t,e,n,r){const s={DynElem:t,DynFlags:e,DynNodes:n};return ze(s,"OnAfterRender",r),s}function _i(t,e){for(let n=0,r=e.length-1;n<=r;n++)e[n]=t(e[n]);return e}function nt(t){if(t instanceof Array)return t;if(t instanceof Se)return Ln(t);if(t===null)return[];{const e=[],n=V(t);try{for(;n.MoveNext();)e.push(n.Current);return e}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}}function rt(t,e,n){const r=G(n);function s(i){return l=>{switch(l<=0?0:l===1&&i>=0&&i<r?1:2){case 0:return t;case 1:return N(n,i);case 2:const o=l/2>>0;return e(s(i)(o),s(i+o)(l-o))}}}return s(0)(r)}function Ji(t,e,n,r){const s=G(r);function i(l){return o=>{switch(o<=0?0:o===1&&l>=0&&l<s?1:2){case 0:return e;case 1:return t(N(r,l));case 2:const a=o/2>>0;return n(i(l)(a),i(l+a)(o-a))}}}return i(0)(s)}class Zi extends j{constructor(n){super();u(this,"init");this.init=n}SSetAt(n,r,s){return Lt(s,n,r),s}SAppend(n,r){return r.push(n),r}SInit(){return this.init}}function zn(t,e){const n=[],r=[];function s(o){for(;;)if(o!==null){if(o!=null&&o.$==1)return n.push(o.$0);if(o!=null&&o.$==2){const a=o.$1,d=o.$0;s(d),o=a}else return o!=null&&o.$==3?o.$0(t):o!=null&&o.$==4?r.push(o.$0):null}else return null}s(e);const i=n.slice(0);return Bn(t,Tt(e),i,r.length===0?null:y(o=>{ks(a=>{a(o)},r)}))}function _n(t){return Ji(e=>e.NChanged,Xe(),Qe,t.DynNodes)}function xt(t){return Bn(t,0,[],null)}function Tt(t){return t!==null&&t.hasOwnProperty("flags")?t.flags:0}function dt(t){return K.A3(t)}function Jn(t,e){return K.A1(new Wo(t,e))}function Zn(){return D.EmptyAttr}function Xi(t){return(t.DynFlags&2)===2}function Qi(t){return qt(t,(e,n)=>e.NGetExitAnim(n))}function Yi(t){return(t.DynFlags&1)===1}function eo(t){return qt(t,(e,n)=>e.NGetEnterAnim(n))}function to(t){return(t.DynFlags&4)===4}function no(t){return qt(t,(e,n)=>e.NGetChangeAnim(n))}function ro(t,e){if(t===null)return e;if(e===null)return t;{const n=K.A2(t,e);return so(n,Tt(t)|Tt(e)),n}}function qt(t,e){return Ct(ye(n=>e(n,t.DynElem),t.DynNodes))}function Xn(t,e){Q(n=>{n.NSync(t)},e.DynNodes)}function so(t,e){t.flags=e}class io extends J{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class oo extends J{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function lo(t,e){return dt(n=>{n.addEventListener(t,r=>e(n)(r),!1)})}function hn(t){return K.A4(t)}function Re(t,e){return Jn(e,n=>r=>n.setAttribute(t,r))}function uo(t){return Ue(sl(),t)}function co(t){return Ue(il(),t)}function ao(t){return Ue(ol(),t)}function ho(t){return Ue(ll(),t)}function fo(t){return Ue(ul(),t)}function po(t){return Ue(cl(),t)}function Ue(t,e){const n=t(e);return K.Append(dt(n[0]),go(n[1],n[2]))}function go(t,e){return Jn(e,t)}class K{constructor(){u(this,"$");u(this,"$0");u(this,"$1")}static Handler(e,n){return K.HandlerImpl(e,n)}static Concat(e){const n=nt(e);return rt(Zn(),K.Append,n)}static Create(e,n){return dt(r=>{r.setAttribute(e,n)})}static HandlerImpl(e,n){return dt(r=>{r.addEventListener(e,s=>n(r)(s),!1)})}static Append(e,n){return ro(e,n)}static A4(e){return le(K,{$:4,$0:e})}static A3(e){return le(K,{$:3,$0:e})}static A1(e){return le(K,{$:1,$0:e})}static A2(e,n){return le(K,{$:2,$0:e,$1:n})}}class wo extends J{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class mo extends J{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function Mt(t){return{$:0,$0:t}}function Oe(t){return{$:1,$0:t}}const Ke=class Ke{constructor(){u(this,"$");u(this,"$0");u(this,"$1")}static Cons(e,n){return le(Ke,{$:1,$0:e,$1:n})}GetEnumerator(){return new he(this,null,e=>{const n=e.s;if(n.$==0)return!1;{const r=n.$1;return e.c=n.$0,e.s=r,!0}},void 0)}};u(Ke,"Empty",le(Ke,{$:0}));let Se=Ke;function Pe(t,e){return me(e).join(t)}function ae(t,e,n){return bo(t,new RegExp("["+yo(e.join(""))+"]"),n)}function St(t,e){return t.substring(0,e.length)==e}function bo(t,e,n){return n===1?tt(r=>r!=="",fn(t,e)):fn(t,e)}function yo(t){return t.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function fn(t,e){return t.split(e)}function vo(t,e){return Fs(t,Co(e))}function Co(t){return t??""}class ht{constructor(){u(this,"c");u(this,"s");u(this,"v")}static Create(e){let n;return n=null,n=ht.New(e,null,()=>{let r;return r=n.s,r===null&&(r=zr(n.c()),n.s=r,bn(r,()=>{n.s=null})),r}),n}static New(e,n,r){return le(ht,{c:e,s:n,v:r})}}class Ao extends j{constructor(n){super();u(this,"d");this.d=n}GetEnumerator(){return V(Ne(n=>n.V,this.d))}}function No(t,e){return{PreviousNodes:t,Top:e}}function xo(){return st(new ie("New_3"))}function Qn(t){const e=[];function n(i,l){for(;;)switch(i){case 0:if(l!=null&&l.$==0){const o=l.$1,a=l.$0;n(0,a),l=o}else if(l!=null&&l.$==1)l=l.$0,i=1;else if(l!=null&&l.$==2)l=l.$0.Current;else if(l!=null&&l.$==6){const o=l.$0.Holes;return(a=>d=>{Q(a,d)})(s)(o)}else return null;break;case 1:e.push(l),l=l.Children,i=0;break}}function r(i){return n(0,i)}function s(i){return n(1,i)}return r(t),st(new ie("New_2",e))}function st(t){return{$:0,$0:t}}function Ht(t,e){return st(Oo(t,e.$0))}function Yn(t,e){return st(Io(t.$0,e.$0))}function Kt(t){return Le(t.$0)}function Eo(t,e){return st(Ro(t.$0,e.$0))}function $o(){return nr.UseAnimations}function ko(t){return So(Gt(e=>e.$==1?y(e.$0):null,sr(t.$0)))}function To(t){Q(e=>{e.$==0&&e.$0()},sr(t.$0))}function So(t){const e=nt(t),n=G(e);if(n===0)return Lo();if(n===1)return N(e,0);{const r=Ss(Ne(i=>i.Duration,e)),s=ye(i=>Vo(r,i),e);return er(r,i=>{Q(l=>{l.Compute(i)},s)})}}function Po(t){return t.$0}function Lo(t){return er(0,()=>t)}function er(t,e){return{Compute:e,Duration:t}}function Vo(t,e){const n=e.Compute,r=e.Duration,s=bl(()=>e.Compute(e.Duration));return{Compute:i=>i>=r?s.f():n(i),Duration:t}}let tr=ue(t=>{var e;return e=class{},tr=t(e),u(e,"BatchUpdatesEnabled"),e.BatchUpdatesEnabled=!0,e});function Et(t){let e=[];for(var n in t)e.push.apply(e,t[n]);return e}let Ie=ue(t=>{var e;return e=class{},Ie=t(e),u(e,"defaultWrap"),u(e,"wrapMap"),u(e,"rhtml"),u(e,"rtagName"),u(e,"rxhtmlTag"),(()=>{e.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),e.rtagName=new RegExp("<([\\w:]+)"),e.rhtml=new RegExp("<|&#?\\w+;");const r=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);e.wrapMap=s,e.defaultWrap=[0,"",""]})(),e}),nr=ue(t=>{var e;return e=class{},nr=t(e),u(e,"UseAnimations"),u(e,"CubicInOut"),e.CubicInOut=Bt.Custom(r=>{const s=r*r;return 3*s-2*(s*r)}),e.UseAnimations=!0,e});function rr(t,e){return t.$==0?e:e.$==0?t:{$:2,$0:t,$1:e}}function sr(t){const e=[];function n(r){for(;;){if(r.$==1)return e.push(r.$0);if(r.$==2){const s=r.$1,i=r.$0;n(i),r=s}else return r.$==3?Q(s=>{e.push(s)},r.$0):null}}return n(t),e.slice(0)}function Do(t){const e=nt(t);return rt(ir(),rr,e)}function ir(){return lr.Empty}function Go(t){return t.$==1?t.$0:or()}function Fo(t){return t.$==1?t.$1:or()}function or(){return B("The input list was empty.")}class Wo extends j{constructor(n,r){super();u(this,"push");u(this,"value");u(this,"dirty");u(this,"updates");this.push=r,this.value=void 0,this.dirty=!1,this.updates=L(s=>{this.value=s,this.dirty=!0},n)}get NChanged(){return this.updates}NGetExitAnim(n){return Nt()}NGetEnterAnim(n){return Nt()}NGetChangeAnim(n){return Nt()}NSync(n){this.dirty&&(this.push(n)(this.value),this.dirty=!1)}}class Uo extends Error{constructor(e,n){if(e=="New"&&(e="New_1",n="The given key was not present in the dictionary."),e=="New_1"){const r=n;super(r)}}}let D=ue(t=>{var e;return e=class{},D=t(e),u(e,"FloatApplyChecked"),u(e,"FloatGetChecked"),u(e,"FloatSetChecked"),u(e,"FloatApplyUnchecked"),u(e,"FloatGetUnchecked"),u(e,"FloatSetUnchecked"),u(e,"IntApplyChecked"),u(e,"IntGetChecked"),u(e,"IntSetChecked"),u(e,"IntApplyUnchecked"),u(e,"IntGetUnchecked"),u(e,"IntSetUnchecked"),u(e,"FileApplyUnchecked"),u(e,"FileGetUnchecked"),u(e,"FileSetUnchecked"),u(e,"DateTimeApplyUnchecked"),u(e,"DateTimeGetUnchecked"),u(e,"DateTimeSetUnchecked"),u(e,"StringListApply"),u(e,"StringListGet"),u(e,"StringListSet"),u(e,"StringApply"),u(e,"StringGet"),u(e,"StringSet"),u(e,"BoolCheckedApply"),u(e,"EmptyAttr"),(()=>{e.EmptyAttr=null,e.BoolCheckedApply=c=>[h=>{h.addEventListener("change",()=>c.Get()!=h.checked?c.Set(h.checked):null)},h=>f=>f!=null&&f.$==1?void(h.checked=f.$0):null,L(h=>y(h),c.View)],e.StringSet=c=>h=>{c.value=h},e.StringGet=c=>y(c.value);const r=qo(),s=jo();e.StringApply=c=>ve(r,s,c),e.StringListSet=c=>h=>{const f=c.options;for(let w=0,m=f.length-1;w<=m;w++)(()=>{const C=f.item(w);C.selected=qi(C.value,h)})()},e.StringListGet=c=>{const h=c.selectedOptions;return y(me(on(()=>Ts(f=>[h.item(f).value],Xt(0,h.length-1)))))};const i=Ho(),l=Mo();e.StringListApply=c=>ve(i,l,c),e.DateTimeSetUnchecked=c=>h=>{c.value=new Date(h).toLocaleString()},e.DateTimeGetUnchecked=c=>{let h,f;const w=c.value;if(je(w))return y(-864e13);{h=0;const m=wl(w);return f=[m!=null&&m.$==1&&(h=m.$0,!0),h],f[0]?y(f[1]):null}};const o=Bo(),a=Ko();e.DateTimeApplyUnchecked=c=>ve(o,a,c),e.FileSetUnchecked=()=>()=>null,e.FileGetUnchecked=c=>{const h=c.files;return y(me(on(()=>Ne(f=>h.item(f),Xt(0,h.length-1)))))};const d=Jo(),p=_o();e.FileApplyUnchecked=c=>zo(d,p,c),e.IntSetUnchecked=c=>h=>{c.value=String(h)},e.IntGetUnchecked=c=>{const h=c.value;if(je(h))return y(0);{const f=+h;return f!==f>>0?null:y(f)}};const b=Xo(),g=Zo();e.IntApplyUnchecked=c=>ve(b,g,c),e.IntSetChecked=c=>h=>{const f=h.Input;return c.value!=f?void(c.value=f):null},e.IntGetChecked=c=>{let h,f;const w=c.value;if(je(w))h=!c.checkValidity||c.checkValidity()?ne.Blank(w):ne.Invalid(w);else{const m=(f=0,[_s(w,{get:()=>f,set:C=>{f=C}}),f]);h=m[0]?ne.Valid(m[1],w):ne.Invalid(w)}return y(h)};const v=Yo(),k=Qo();e.IntApplyChecked=c=>ve(v,k,c),e.FloatSetUnchecked=c=>h=>{c.value=String(h)},e.FloatGetUnchecked=c=>{const h=c.value;if(je(h))return y(0);{const f=+h;return isNaN(f)?null:y(f)}};const F=tl(),O=el();e.FloatApplyUnchecked=c=>ve(F,O,c),e.FloatSetChecked=c=>h=>{const f=h.Input;return c.value!=f?void(c.value=f):null},e.FloatGetChecked=c=>{let h;const f=c.value;if(je(f))h=!c.checkValidity||c.checkValidity()?ne.Blank(f):ne.Invalid(f);else{const w=+f;h=isNaN(w)?ne.Invalid(f):ne.Valid(w,f)}return y(h)};const x=rl(),T=nl();e.FloatApplyChecked=c=>ve(x,T,c)})(),e});class Bt extends j{constructor(n){super();u(this,"transformTime");this.transformTime=n}static Custom(n){return new Bt(n)}}function Oo(t,e){return new ie("New_2",tt(t,Le(e)))}function Io(t,e){const n=new ie("New_2",Le(e));return n.ExceptWith(Le(t)),n}function Le(t){const e=Is(t.Count,void 0);return t.CopyTo(e,0),e}function Ro(t,e){const n=new ie("New_2",Le(t));return n.IntersectWith(Le(e)),n}function ve(t,e,n){let r;return r=null,[s=>{const i=()=>{n.UpdateMaybe(l=>{let o;return r=t(s),r!=null&&r.$==1&&!A(r.$0,l)&&(o=[r,r.$0],!0)?o[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{const i=e(s);return l=>l==null?null:i(l.$0)},L(s=>r!=null&&r.$==1&&A(r.$0,s)&&(r.$0,!0)?null:y(s),n.View)]}function jo(){return D.StringSet}function qo(){return D.StringGet}function Mo(){return D.StringListSet}function Ho(){return D.StringListGet}function Ko(){return D.DateTimeSetUnchecked}function Bo(){return D.DateTimeGetUnchecked}function zo(t,e,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(i=>{let l;return r=t(s),r!=null&&r.$==1&&r.$0!==i&&(l=[r,r.$0],!0)?l[0]:null})})},s=>{const i=e(s);return l=>l==null?null:i(l.$0)},L(s=>r!=null&&r.$==1&&A(r.$0,s)&&(r.$0,!0)?null:y(s),n.View)]}function _o(){return D.FileSetUnchecked}function Jo(){return D.FileGetUnchecked}function Zo(){return D.IntSetUnchecked}function Xo(){return D.IntGetUnchecked}function Qo(){return D.IntSetChecked}function Yo(){return D.IntGetChecked}function el(){return D.FloatSetUnchecked}function tl(){return D.FloatGetUnchecked}function nl(){return D.FloatSetChecked}function rl(){return D.FloatGetChecked}function sl(){return D.StringApply}function il(){return D.FloatApplyUnchecked}function ol(){return D.BoolCheckedApply}function ll(){return D.DateTimeApplyUnchecked}function ul(){return D.FileApplyUnchecked}function cl(){return D.StringListApply}function je(t){return vo(gl,t)}class ne{constructor(){u(this,"$");u(this,"$0");u(this,"$1")}get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(e){return le(ne,{$:2,$0:e})}static Invalid(e){return le(ne,{$:1,$0:e})}static Valid(e,n){return le(ne,{$:0,$0:e,$1:n})}}function al(t,e){let n;if(e!=null&&e.$==1){const r=e.$0[1],s=e.$0[0],i=[];for(n=s.nextSibling;n!==r;)i.push(n),n=n.nextSibling;return ft(i)}else{let r=t.childNodes.length;const s=t.childNodes;let i=Rs(r,l=>s[l]);return ft(i)}}function dl(t,e){const n=t.$0;return ft(tt(r=>Vn(s=>r!==s,n),e.$0))}function hl(t,e){Q(t,e.$0)}function fl(t){const e=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return e.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return e.push(r.$0);if(r!=null&&r.$==4)return e.push(r.$0.Text);if(r!=null&&r.$==6){const s=r.$0.Els;return(i=>l=>{Q(i,l)})(i=>{i==null||i.constructor===Object?n(i):e.push(i)})(s)}else{const s=r.$1,i=r.$0;n(i),r=s}}}return n(t.Children),ft(nt(e))}function ft(t){return{$:0,$0:t}}function pl(t){t.splice(0,G(t))}function gl(t){return t.match(new RegExp("\\s"))!==null}function wl(t){const e=Date.parse(t);return isNaN(e)?null:y(e)}function ml(t,e,n,r){const s=+t,i=s===s-s%1&&s>=e&&s<=n;return i&&r.set(s),i}function bl(t){return Cl(!1,t,yl)}function yl(){const t=this.v();return this.c=!0,this.v=t,this.f=vl,t}function vl(){return this.v}let lr=ue(t=>{var e;return e=class{},lr=t(e),u(e,"Empty"),e.Empty={$:0},e});function Cl(t,e,n){return{c:t,v:e,f:n}}pr(()=>{Lr()});gr();export{gn as W};
